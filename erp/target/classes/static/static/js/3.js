webpackJsonp([3],{DIzo:function(t,e,a){"use strict";var i,l=a("bOdI"),s=a.n(l),n=a("HXNT"),o={props:["associatedMaterialid"],data:function(){return{ApprovalGroup:!1,PullDownPersonnel:[],PullDownPersonnels:[],PullDownPersonnels2:[],ApprovalGroupname:"",Approvedbyid:"",Reviewerstr:"",InitiateApprovalVisible:!1,information:!1,informationseeReviewer:!1,shenpishenhe:"",shenhe:[],ProcessTitle:"",ProcessContent:"",shenpizushuju:[],wenjianid:[],processid:"",fileData:[],fileList:[],filephase:"",filephases:[],fileMenu:[],fileMenus:[],activeName:"attributelist",BaseMaterial1:"",Layout1:"",Crafts1:"",Cycle1:"",Logistic1:"",Stocks1:"",Stocks2:"",Stocks3:"",subclass:[],attributes:[],group:[],typeids:[],clazzs:[],unit:[],stocktypeid:[],packageid:[],GraphicFiles:[],url:"",GraphicFileresult:"",Collectionfile:[],BaseMaterial:{namecn:"",nameen:"",nameshort:"",customerpn:"",version:"",clazz:"",subclass:"",costgroupid:"",mainmaterial:"",standard:"",description:"",typeid:"",erpnum:"",remark:"",id:""},Layout:{automotive:"",totalpins:"",specialcharacteristics:"",color:"",value:"",tolerance:"",temperature:"",voltagerange:"",currentrange:"",powerrange:"",weight_g:"",esd:"",fit:"",footprint:"",id:""},Crafts:{reflowcycles:"",environment:"",id:""},Cycle:{expireduration:"",lifeduration:"",liferemaining:"",unitofaccount:"",id:""},Logistic:{packageids:"",packageid:"",unitid:"",unit:"",packagenumber:"",supplyform:"",batchtrace:"",sntrace:"",stockmin:"",stockmax:"",stocktypeid:"",logisticinplant:"",id:""},stocklength:[],Stock:{manufacturer:"",manufactureridentification:"",agent:"",agentidentification:"",manufacturerpartnumber:"",orderingperiod:"",minpurchasenumber:"",priceincludematerial:"",currentprice:"",lta:"",volumeprice:"",volumeprice2:"",volumeprice3:"",id:""},Stock2:{manufacturer:"",manufactureridentification:"",agent:"",agentidentification:"",manufacturerpartnumber:"",orderingperiod:"",minpurchasenumber:"",priceincludematerial:"",currentprice:"",lta:"",volumeprice:"",volumeprice2:"",volumeprice3:"",id:""},Stock3:{manufacturer:"",manufactureridentification:"",agent:"",agentidentification:"",manufacturerpartnumber:"",orderingperiod:"",minpurchasenumber:"",priceincludematerial:"",currentprice:"",lta:"",volumeprice:"",volumeprice2:"",volumeprice3:"",id:""},form:{name:"",region:"",date1:"",date2:"",delivery:!1,type:[],resource:"",desc:""},pageInfo:{currentPage:1,pageSize:5,total:0},pageInfo2:{currentPage:1,pageSize:5,total:0},row:"",materialdata:"",tableData:[],BeConnected:[]}},mounted:function(){var t=this;this.getdata(),this.ab(),this.tuwendangan(),this.PersonnelList(),this.obtainApprovalGroup(),n.a.$on("guanlianwuliao",function(e){e.forEach(function(e){t.tableData.push(e)})})},watch:{filterText:function(t){this.$refs.tree.filter(t)}},methods:(i={handleClick:function(t,e){},changeid:function(t){this.Logistic.packageids=t},changeunit:function(t){this.Logistic.unitid=t},PagingJump:function(t){var e=this,a=new URLSearchParams;a.append("baseid",this.materialdata.baseid),a.append("offset",this.pageInfo.currentPage),a.append("page",this.pageInfo.pageSize),this.$http.post("plm_link/select/material.do/all/main",a).then(function(t){0!=t.data.length&&void 0!=t.data&&(e.tableData=t.data.data.baseMaterials,e.pageInfo.total=t.data.data.count?Number(t.data.data.count):0)})},PagingJump2:function(t){var e=this,a=new URLSearchParams;a.append("baseid",this.materialdata.baseid),a.append("offset",this.pageInfo2.currentPage),a.append("page",this.pageInfo2.pageSize),this.$http.post("plm_link/select/material.do/all/sub",a).then(function(t){0!=t.data.length&&void 0!=t.data&&(e.BeConnected=t.data.data.baseMaterials,e.pageInfo2.total=t.data.data.count?Number(t.data.data.count):0)})},handleSizeChange:function(t){this.pageInfo.pageSize=t,this.PagingJump()},handleCurrentChange:function(t){this.pageInfo.currentPage=t,this.PagingJump()},handleSizeChange1:function(t){this.pageInfo2.pageSize=t,this.PagingJump2()},handleCurrentChange1:function(t){this.pageInfo2.currentPage=t,this.PagingJump2()},cancelMaterialAssociated:function(t,e,a){var i=this,l=new URLSearchParams;l.append("linkid",t.link.materiallinkid),this.$http.post("plm_link/base_deLink.do/base",l).then(function(t){200==t.data.code?(a.splice(e,1),i.$message({message:"已解除关联",type:"success"})):i.$message({message:"关联失败",type:"warning"})})},PersonnelList:function(){var t=this;this.$http.post("department/list.do").then(function(e){if(0!=e.data.length&&void 0!=e.data){var a=[];e.data.forEach(function(e){var i=[];e.departments.map(function(t){var e=[];t.jobs.map(function(t){var a=[];t.people.map(function(t){a.push({value:t.personid,label:t.personname})}),e.push({value:t.jobid,label:t.jobname,children:a})}),i.push({value:t.departmentid,label:t.depname,children:e})}),e.jobs.map(function(t){var e=[];t.people.map(function(t){e.push({value:t.personid,label:t.personname})}),i.push({value:t.jobid,label:t.jobname,children:e})}),a.push({value:e.departmentid,label:e.depname,children:i}),t.PullDownPersonnel=a})}})},handleChange:function(t,e){this.Approvedbyid=t.slice(-1).join(""),console.log(this.Approvedbyid)},handleChangetwo:function(t){this.Reviewerstr=t.join("_"),console.log(this.Reviewerstr)},establishApprovalGroup:function(){var t=this;if(""==this.ApprovalGroupname)this.$message({message:"请填写审批组名称",type:"success"});else if(""==this.Approvedbyid)this.$message({message:"请选择审批人员",type:"success"});else if(""==this.Reviewerstr)this.$message({message:"请选择审核人员",type:"success"});else{var e=new URLSearchParams;e.append("processname",this.ApprovalGroupname),e.append("applyuserid",this.Approvedbyid),e.append("userids",this.Reviewerstr),this.$http.post("Act/add/process.do",e).then(function(e){console.log(e),"OK"==e.data.result?t.$message({message:"创建成功",type:"success"}):t.$message({message:"创建失败",type:"warning"})})}},obtainApprovalGroup:function(){var t=this;this.$http.get("Act/select/list.do").then(function(e){t.shenpizushuju=e.data.result})},seeApprovedBy:function(t){this.shenpishenhe="",this.information=!0,this.shenpishenhe=t.appluUser.personname},seeReviewer:function(t){var e=this;this.shenhe=[],this.informationseeReviewer=!0,t.checkUsers.forEach(function(t){e.shenhe.push(t.personname)})},xuanzhong:function(t,e){this.processid=t.slice(-1)[0].processid},InitiateApproval:function(){var t=this,e=this.wenjianid.join("_"),a=new URLSearchParams;a.append("topic",this.ProcessTitle),a.append("detail",this.ProcessContent),a.append("processid",this.processid),a.append("fileids",e),this.$http.post("Act/apply.do",a).then(function(e){"发起流程成功"==e.data.result&&200==e.status?t.$message({message:"流程发起成功",type:"success"}):t.$message({message:"流程发起失败",type:"warning"})})},chakanshenpihuodong:function(){this.$http.post("Act/getTask").then(function(t){console.log(t)})},changehandel:function(t){var e=this;console.log(t),this.$http.get("plm_file/select/menu/doc.do/"+t).then(function(t){console.log(t);var a=t.data.data;200==t.data.code&&(e.Collectionfile=a.documents),console.log(e.Collectionfile)})},relation:function(t){var e=this,a=new URLSearchParams;a.append("baseid",this.associatedMaterialid),a.append("docid",t.versions[0].docid),this.$http.post("plm_file/link/menu.do",a).then(function(t){console.log(t),200===t.status?e.$message({message:"关联成功",type:"success"}):e.$message({message:"关联失败",type:"warning"})})},Downloadfile:function(t){window.open("http://192.168.43.3:8088/plm_file/download/doc.do/"+t.versions[0].versionid)},preview:function(t){window.open("http://ow365.cn/?i=22554&furl=http://139.129.92.198:8088"+t.versions[0].docurl)},Deletefile:function(t,e,a){var i=this;console.log(t);var l=new URLSearchParams;l.append("docid",t.documentid),this.$http.post("plm_file/del/doc.do",l).then(function(t){200==t.data.code?(a.splice(e,1),i.$message({message:"删除成功",type:"success"})):i.$message({message:"删除失败",type:"warning"})})},changeUpload:function(t,e){var a=this;if(this.$refs.uploadRatio.uploadFiles.length>0){var i=new FormData;this.$refs.uploadRatio.uploadFiles.forEach(function(t){i.append("upfile",t.raw)}),i.append("baseid",this.materialdata.baseid),this.$http.post("plm_file/add/file.do",i).then(function(t){200==t.status?a.$message({message:"上传成功",type:"success"}):a.$message({message:"上传失败",type:"warning"})})}},downfile:function(t){window.open("http://139.129.92.198:8088/plm_file/download/doc.do/"+t.versionid)},fileReverseVideo:function(t){var e=this,a=new URLSearchParams;a.append("baseid",t),this.$http.post("plm_file/get/MaterialAllFile.do",a).then(function(t){var a=t.data.data,i={};t.data.data;a.forEach(function(t){var a="";e.wenjianid.push(t.documentid),t.versions.forEach(function(e){e.docsize<102.4?a=e.docsize.toFixed(2)+"B":e.docsize<104857.6?a=(e.docsize/1024).toFixed(2)+"KB":e.docsize<107374182.4&&(a=(e.docsize/1048576).toFixed(2)+"MB"),i={docname:t.docname,creatuserid:t.creatuserid,docsize:a,docid:e.docid,docurl:e.docurl,setuserid:e.setuserid,suffix:e.suffix,updatatime:e.updatatime,versionid:e.versionid},e.docsize=a}),e.fileData.push(i)})})},tuwendangan:function(){var t=this;this.$http.get("plm_file/select/msg.do").then(function(e){var a=e.data.data;200==e.data.code&&a.menu.forEach(function(e){t.GraphicFiles.push({value:e.menuid,label:e.menuname})})})},cancelfileAssociated:function(t,e,a){var i=this,l=new URLSearchParams;l.append("docid",t.docid),this.$http.post("plm_file/del/doc.do",l).then(function(t){200==t.data.code?(a.splice(e,1),i.$message({message:"删除成功",type:"success"})):i.$message({message:"删除失败",type:"warning"})})}},s()(i,"preview",function(t){window.open("http://ow365.cn/?i=22554&furl=http://139.129.92.198:8088"+t.docurl)}),s()(i,"seeMaterielInformation",function(t){this.$emit("seeMateriel",t)}),s()(i,"ab",function(){var t=this;this.materialdata=JSON.parse(localStorage.getItem("materialdata")),this.fileReverseVideo(this.materialdata.baseid),this.PagingJump2(this.materialdata.baseid),this.PagingJump(this.materialdata.baseid);var e=new URLSearchParams;e.append("baseid",this.materialdata.baseid),e.append("offset",this.pageInfo.currentPage),e.append("page",this.pageInfo.pageSize),this.$http.post("plm_link/select/material.do/all/main",e).then(function(e){200==e.data.code&&e.data.data&&(t.tableData=e.data.data.baseMaterials)}),this.$http.post("plm_link/select/material.do/all/sub",e).then(function(e){200==e.data.code&&e.data.data&&(t.BeConnected=e.data.data.baseMaterials)});var a="";if(a=1==this.materialdata.standard?"是":"否",""!=this.materialdata||void 0!=this.materialdata){if(this.materialdata&&(this.BaseMaterial={namecn:this.materialdata.namecn,nameen:this.materialdata.nameen,nameshort:this.materialdata.nameshort,customerpn:this.materialdata.customerpn,version:this.materialdata.version,clazz:this.materialdata.clazzI,subclass:this.materialdata.subclassI,costgroupid:this.materialdata.groupI,mainmaterial:this.materialdata.mainmaterial,standard:a,description:this.materialdata.description,typeid:this.materialdata.typeI,erpnum:this.materialdata.erpnum,remark:this.materialdata.remark,id:this.materialdata.baseid}),this.materialdata.layout&&(this.Layout1=this.materialdata.layout,this.Layout={automotive:this.materialdata.layout.automotive,totalpins:this.materialdata.layout.totalpins,specialcharacteristics:this.materialdata.layout.specialcharacteristics,color:this.materialdata.layout.color,value:this.materialdata.layout.value,tolerance:this.materialdata.layout.tolerance,temperature:this.materialdata.layout.temperature,voltagerange:this.materialdata.layout.voltagerange,currentrange:this.materialdata.layout.currentrange,powerrange:this.materialdata.layout.powerrange,weight_g:this.materialdata.layout.weightG,esd:this.materialdata.layout.esd,fit:this.materialdata.layout.fit,footprint:this.materialdata.layout.footprint,id:this.materialdata.layout.layoutid}),this.materialdata.crafts&&(this.Crafts1=this.materialdata.crafts,this.Crafts={reflowcycles:this.materialdata.crafts.reflowcycles,environment:this.materialdata.crafts.environment,id:this.materialdata.crafts.craftsid}),this.materialdata.cycle&&(this.Cycle1=this.materialdata.cycle,this.Cycle={expireduration:this.materialdata.cycle.expireduration,lifeduration:this.materialdata.cycle.lifeduration,liferemaining:this.materialdata.cycle.liferemaining,unitofaccount:this.materialdata.cycle.unitofaccount,id:this.materialdata.cycle.cycleid}),this.materialdata.logistic){this.Logistic1=this.materialdata.logistic;var i="",l="";i=1==this.materialdata.logistic.batchtrace?"是":"否",l=1==this.materialdata.logistic.sntrace?"是":"否",this.Logistic={packageids:this.materialdata.logistic.basePackage.packageid,packageid:this.materialdata.logistic.basePackage.packagename,unitid:this.materialdata.logistic.unit,unit:this.materialdata.logistic.unitI,packagenumber:this.materialdata.logistic.packagenumber,supplyform:this.materialdata.logistic.supplyform,batchtrace:i,sntrace:l,stockmin:this.materialdata.logistic.stockmin,stockmax:this.materialdata.logistic.stockmax,stocktypeid:this.materialdata.logistic.stocktypeid,logisticinplant:this.materialdata.logistic.logisticinplant,id:this.materialdata.logistic.logisticid}}if(this.materialdata.stocks.length>0){if(this.stocklength=this.materialdata.stocks,this.Stocks1=this.materialdata.stocks[0],this.materialdata.stocks.length>=1){this.Stock=this.materialdata.stocks[0];var s,n="";n=1==this.materialdata.stocks[0].priceincludematerial?"是":"否",s=this.materialdata.stocks[0].volumeprice.split("/"),this.Stock={manufacturer:this.materialdata.stocks[0].manufacturer,manufactureridentification:this.materialdata.stocks[0].manufactureridentification,agent:this.materialdata.stocks[0].agent,agentidentification:this.materialdata.stocks[0].agentidentification,manufacturerpartnumber:this.materialdata.stocks[0].manufacturerpartnumber,orderingperiod:this.materialdata.stocks[0].orderingperiod,minpurchasenumber:this.materialdata.stocks[0].minpurchasenumber,priceincludematerial:n,currentprice:this.materialdata.stocks[0].currentprice,lta:this.materialdata.stocks[0].lta,volumeprice:s[0],volumeprice2:s[1],volumeprice3:s[2],id:this.materialdata.stocks[0].stockid}}if(this.materialdata.stocks.length>=2){this.Stocks2=this.materialdata.stocks[1];var o,r="";r=1==this.materialdata.stocks[1].priceincludematerial?"是":"否",o=this.materialdata.stocks[1].volumeprice.split("/"),this.Stock2={manufacturer:this.materialdata.stocks[1].manufacturer,manufactureridentification:this.materialdata.stocks[1].manufactureridentification,agent:this.materialdata.stocks[1].agent,agentidentification:this.materialdata.stocks[1].agentidentification,manufacturerpartnumber:this.materialdata.stocks[1].manufacturerpartnumber,orderingperiod:this.materialdata.stocks[1].orderingperiod,minpurchasenumber:this.materialdata.stocks[1].minpurchasenumber,priceincludematerial:r,currentprice:this.materialdata.stocks[1].currentprice,lta:this.materialdata.stocks[1].lta,volumeprice:o[0],volumeprice2:o[1],volumeprice3:o[2],id:this.materialdata.stocks[1].stockid}}if(this.materialdata.stocks.length>=3){this.Stocks3=this.materialdata.stocks[2];var c,u="";u=1==this.materialdata.stocks[2].priceincludematerial?"是":"否",c=this.materialdata.stocks[2].volumeprice.split("/"),this.Stock3={manufacturer:this.materialdata.stocks[2].manufacturer,manufactureridentification:this.materialdata.stocks[2].manufactureridentification,agent:this.materialdata.stocks[2].agent,agentidentification:this.materialdata.stocks[2].agentidentification,manufacturerpartnumber:this.materialdata.stocks[2].manufacturerpartnumber,orderingperiod:this.materialdata.stocks[2].orderingperiod,minpurchasenumber:this.materialdata.stocks[2].minpurchasenumber,priceincludematerial:u,currentprice:this.materialdata.stocks[2].currentprice,lta:this.materialdata.stocks[2].lta,volumeprice:c[0],volumeprice2:c[1],volumeprice3:c[2],id:this.materialdata.stocks[2].stockid}}}}}),s()(i,"changefilephase",function(t){}),s()(i,"ModifyLayout",function(){var t=this,e=new URLSearchParams;this.Layout.automotive&&e.append("automotive",this.Layout.automotive),this.Layout.totalpins&&e.append("totalpins",this.Layout.totalpins),this.Layout.specialcharacteristics&&e.append("specialcharacteristics",this.Layout.specialcharacteristics),this.Layout.color&&e.append("color",this.Layout.color),this.Layout.value&&e.append("value",this.Layout.value),this.Layout.tolerance&&e.append("tolerance",this.Layout.tolerance),this.Layout.temperature&&e.append("temperature",this.Layout.temperature),this.Layout.voltagerange&&e.append("voltagerange",this.Layout.voltagerange),this.Layout.currentrange&&e.append("currentrange",this.Layout.currentrange),this.Layout.powerrange&&e.append("powerrange",this.Layout.powerrange),this.Layout.weight_g&&e.append("weightG",this.Layout.weight_g),this.Layout.esd&&e.append("esd",this.Layout.esd),this.Layout.fit&&e.append("fit",this.Layout.fit),this.Layout.footprint&&e.append("footprint",this.Layout.footprint),this.BaseMaterial.id&&e.append("baseid",this.BaseMaterial.id),this.Layout.id&&e.append("layoutid",this.Layout.id),this.$http.post("plm/set/layout.do",e).then(function(e){200==e.status?t.$message({message:"修改成功",type:"success"}):t.$message({message:"修改失败",type:"warning"})})}),s()(i,"Modifyprocess",function(){var t=this,e=new URLSearchParams;this.Crafts.reflowcycles&&e.append("reflowcycles",this.Crafts.reflowcycles),this.Crafts.environment&&e.append("environment",this.Crafts.environment),this.BaseMaterial.id&&e.append("baseid",this.BaseMaterial.id),this.Crafts.id&&e.append("craftsid",this.Crafts.id),this.$http.post("plm/set/crafts.do",e).then(function(e){200==e.status&&t.$message({message:"提交成功",type:"success"})})}),s()(i,"Modifycycle",function(){var t=this,e=new URLSearchParams;this.Cycle.expireduration&&e.append("expireduration",this.Cycle.expireduration),this.Cycle.lifeduration&&e.append("lifeduration",this.Cycle.lifeduration),this.Cycle.liferemaining&&e.append("liferemaining",this.Cycle.liferemaining),this.Cycle.unitofaccount&&e.append("unitofaccount",this.Cycle.unitofaccount),this.BaseMaterial.id&&e.append("baseid",this.BaseMaterial.id),this.Cycle.id&&e.append("cycleid",this.Cycle.id),this.$http.post("plm/set/cycle.do",e).then(function(e){200==e.status&&t.$message({message:"提交成功",type:"success"})})}),s()(i,"Modifylogistics",function(){var t=this;"是"==this.Logistic.batchtrace||this.Logistic.batchtrace?this.Logistic.batchtrace="true":"否"==this.Logistic.batchtrace||this.Logistic.batchtrace?this.Logistic.batchtrace="false":this.Logistic.batchtrace=this.Logistic.batchtrace,"是"==this.Logistic.sntrace||this.Logistic.sntrace?this.Logistic.sntrace="true":"否"==this.Logistic.sntrace||this.Logistic.sntrace?this.Logistic.sntrace="false":this.Logistic.sntrace=this.Logistic.sntrace;var e=new URLSearchParams;this.Logistic.packageids&&e.append("packageid",this.Logistic.packageids),this.Logistic.unitid&&e.append("unit",this.Logistic.unitid),this.Logistic.packagenumber&&e.append("packagenumber",this.Logistic.packagenumber),this.Logistic.supplyform&&e.append("supplyform",this.Logistic.supplyform),this.Logistic.batchtrace&&e.append("batchtrace",this.Logistic.batchtrace),this.Logistic.sntrace&&e.append("sntrace",this.Logistic.sntrace),this.Logistic.stockmin&&e.append("stockmin",this.Logistic.stockmin),this.Logistic.stockmax&&e.append("stockmax",this.Logistic.stockmax),this.Logistic.stocktypeid&&e.append("stocktypeid",this.Logistic.stocktypeid),this.Logistic.logisticinplant&&e.append("logisticinplant",this.Logistic.logisticinplant),this.BaseMaterial.id&&e.append("baseid",this.BaseMaterial.id),this.Logistic.id&&e.append("logisticid",this.Logistic.id),this.$http.post("plm/set/logistic.do",e).then(function(e){200==e.status&&t.$message({message:"提交成功",type:"success"})})}),s()(i,"Modifystock1",function(){var t=this;"是"==this.Stock.priceincludematerial||this.Stock.priceincludematerial?this.Stock.priceincludematerial="true":"否"==this.Stock.priceincludematerial||this.Stock.priceincludematerial?this.Stock.priceincludematerial="false":this.Stock.priceincludematerial=this.Stock.priceincludematerial;var e=this.Stock.volumeprice+"/"+this.Stock.volumeprice2+"/"+this.Stock.volumeprice3,a=new URLSearchParams;this.Stock.manufacturer&&a.append("manufacturer",this.Stock.manufacturer),this.Stock.manufactureridentification&&a.append("manufactureridentification",this.Stock.manufactureridentification),this.Stock.agent&&a.append("agent",this.Stock.agent),this.Stock.agentidentification&&a.append("agentidentification",this.Stock.agentidentification),this.Stock.manufacturerpartnumber&&a.append("manufacturerpartnumber",this.Stock.manufacturerpartnumber),this.Stock.orderingperiod&&a.append("orderingperiod",this.Stock.orderingperiod),this.Stock.minpurchasenumber&&a.append("minpurchasenumber",this.Stock.minpurchasenumber),this.Stock.priceincludematerial&&a.append("priceincludematerial",this.Stock.priceincludematerial),this.Stock.currentprice&&a.append("currentprice",this.Stock.currentprice),this.Stock.lta&&a.append("lta",this.Stock.lta),e&&a.append("volumeprice",e),this.BaseMaterial.id&&a.append("baseid",this.BaseMaterial.id),this.Stock.id&&a.append("stockid",this.Stock.id),this.$http.post("plm/set/stock.do",a).then(function(e){200==e.status&&t.$message({message:"修改成功",type:"success"})})}),s()(i,"Modifystock2",function(){var t=this;"是"==this.Stock2.priceincludematerial||this.Stock2.priceincludematerial?this.Stock2.priceincludematerial="true":"否"==this.Stock2.priceincludematerial||this.Stock2.priceincludematerial?this.Stock2.priceincludematerial="false":this.Stock2.priceincludematerial=this.Stock2.priceincludematerial;var e=this.Stock2.volumeprice+"/"+this.Stock2.volumeprice2+"/"+this.Stock2.volumeprice3,a=new URLSearchParams;this.Stock2.manufacturer&&a.append("manufacturer",this.Stock2.manufacturer),this.Stock2.manufactureridentification&&a.append("manufactureridentification",this.Stock2.manufactureridentification),this.Stock2.agent&&a.append("agent",this.Stock2.agent),this.Stock2.agentidentification&&a.append("agentidentification",this.Stock2.agentidentification),this.Stock2.manufacturerpartnumber&&a.append("manufacturerpartnumber",this.Stock2.manufacturerpartnumber),this.Stock2.orderingperiod&&a.append("orderingperiod",this.Stock2.orderingperiod),this.Stock2.minpurchasenumber&&a.append("minpurchasenumber",this.Stock2.minpurchasenumber),this.Stock2.priceincludematerial&&a.append("priceincludematerial",this.Stock2.priceincludematerial),this.Stock2.currentprice&&a.append("currentprice",this.Stock2.currentprice),this.Stock2.lta&&a.append("lta",this.Stock2.lta),e&&a.append("volumeprice",e),this.BaseMaterial.id&&a.append("baseid",this.BaseMaterial.id),this.Stock2.id&&a.append("stockid",this.Stock2.id),this.$http.post("plm/set/stock.do",a).then(function(e){200==e.status&&t.$message({message:"修改成功",type:"success"})})}),s()(i,"Modifystock3",function(){var t=this;"是"==this.Stock3.priceincludematerial||this.Stock3.priceincludematerial?this.Stock3.priceincludematerial="true":"否"==this.Stock3.priceincludematerial||this.Stock3.priceincludematerial?this.Stock3.priceincludematerial="false":this.Stock3.priceincludematerial=this.Stock3.priceincludematerial;var e=this.Stock3.volumeprice+"/"+this.Stock3.volumeprice2+"/"+this.Stock3.volumeprice3,a=new URLSearchParams;this.Stock3.manufacturer&&a.append("manufacturer",this.Stock3.manufacturer),this.Stock3.manufactureridentification&&a.append("manufactureridentification",this.Stock3.manufactureridentification),this.Stock3.agent&&a.append("agent",this.Stock3.agent),this.Stock3.agentidentification&&a.append("agentidentification",this.Stock3.agentidentification),this.Stock3.manufacturerpartnumber&&a.append("manufacturerpartnumber",this.Stock3.manufacturerpartnumber),this.Stock3.orderingperiod&&a.append("orderingperiod",this.Stock3.orderingperiod),this.Stock3.minpurchasenumber&&a.append("minpurchasenumber",this.Stock3.minpurchasenumber),this.Stock3.priceincludematerial&&a.append("priceincludematerial",this.Stock3.priceincludematerial),this.Stock3.currentprice&&a.append("currentprice",this.Stock3.currentprice),this.Stock3.lta&&a.append("lta",this.Stock3.lta),e&&a.append("volumeprice",e),this.BaseMaterial.id&&a.append("baseid",this.BaseMaterial.id),this.Stock3.id&&a.append("stockid",this.Stock3.id),this.$http.post("plm/set/stock.do",a).then(function(e){200==e.status&&t.$message({message:"修改成功",type:"success"})})}),s()(i,"changesName",function(){}),s()(i,"getdata",function(){var t=this;this.$http.get("plm/select/logisticMsg.do").then(function(e){if(200==e.status){for(var a=0;a<e.data.data.unit.length;a++)t.unit.push({name:e.data.data.unit[a]});for(a=0;a<e.data.data.warerooms.length;a++)t.stocktypeid.push({name:e.data.data.warerooms[a].wareroomcode+" "+e.data.data.warerooms[a].wareroomname,id:e.data.data.warerooms[a].wareroomid});for(a=0;a<e.data.data.packages.length;a++)t.packageid.push({name:e.data.data.packages[a].packagename,id:e.data.data.packages[a].packageid})}}),this.$http.get("plm/select/baseMsg.do").then(function(e){for(var a=e.data.data,i=0;i<a.clazz.length;i++)t.clazzs.push({name:e.data.data.clazz[i]});for(i=0;i<a.subClazz.length;i++)t.subclass.push({name:e.data.data.subClazz[i]});for(i=0;i<a.selectTree.length;i++)t.attributes.push({name:a.selectTree[i].value,id:a.selectTree[i].mainClass});for(i=0;i<a.group.length;i++)t.group.push({name:e.data.data.group[i].groupnum+e.data.data.group[i].groupname,id:e.data.data.group[i].groupid});for(i=0;i<a.type.length;i++)t.typeids.push({name:a.type[i].typename,id:a.type[i].typeid})})}),s()(i,"open",function(){var t=this;this.$confirm("是否继续添加?","提示",{confirmButtonText:"确定提交",cancelButtonText:"关闭",type:"warning"}).then(function(){t.addprocurement(),t.Stock={}}).catch(function(){})}),i)},r={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"define2"},[a("el-tabs",{attrs:{type:"card"},on:{"tab-click":t.handleClick},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"属性",name:"attributelist"}},[a("el-form",{ref:"form",attrs:{model:t.form,"label-width":"120px"}},[a("el-collapse",{attrs:{"v-model":t.form}},[a("el-form",{ref:"BaseMaterial",attrs:{model:t.BaseMaterial,"label-width":"120px"}},[a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"物料名称(中文):"}},[a("el-input",{model:{value:t.BaseMaterial.namecn,callback:function(e){t.$set(t.BaseMaterial,"namecn",e)},expression:"BaseMaterial.namecn"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"物料名称(英文):"}},[a("el-input",{model:{value:t.BaseMaterial.nameen,callback:function(e){t.$set(t.BaseMaterial,"nameen",e)},expression:"BaseMaterial.nameen"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"物料级别:"}},[a("el-select",{attrs:{placeholder:"请选择物料级别"},model:{value:t.BaseMaterial.subclass,callback:function(e){t.$set(t.BaseMaterial,"subclass",e)},expression:"BaseMaterial.subclass"}},t._l(t.subclass,function(t,e){return a("el-option",{key:e,attrs:{label:t.name,value:e}})}),1)],1)],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"物料名称(简称):"}},[a("el-input",{model:{value:t.BaseMaterial.nameshort,callback:function(e){t.$set(t.BaseMaterial,"nameshort",e)},expression:"BaseMaterial.nameshort"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"物料组:"}},[a("el-select",{attrs:{placeholder:"请选择物料组"},model:{value:t.BaseMaterial.costgroupid,callback:function(e){t.$set(t.BaseMaterial,"costgroupid",e)},expression:"BaseMaterial.costgroupid"}},t._l(t.group,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})}),1)],1)],1),t._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"物料版本:"}},[a("el-input",{model:{value:t.BaseMaterial.version,callback:function(e){t.$set(t.BaseMaterial,"version",e)},expression:"BaseMaterial.version"}})],1)],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"主体材料:"}},[a("el-input",{model:{value:t.BaseMaterial.mainmaterial,callback:function(e){t.$set(t.BaseMaterial,"mainmaterial",e)},expression:"BaseMaterial.mainmaterial"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"是否标准件:"}},[a("el-select",{model:{value:t.BaseMaterial.standard,callback:function(e){t.$set(t.BaseMaterial,"standard",e)},expression:"BaseMaterial.standard"}},[a("el-option",{attrs:{label:"是",value:"true"}}),t._v(" "),a("el-option",{attrs:{label:"否",value:"false"}})],1)],1)],1),t._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"ERP编码:"}},[a("el-input",{attrs:{disabled:""},model:{value:t.BaseMaterial.erpnum,callback:function(e){t.$set(t.BaseMaterial,"erpnum",e)},expression:"BaseMaterial.erpnum"}})],1)],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"物料描述:"}},[a("el-input",{attrs:{type:"textarea",autosize:{minRows:2,maxRows:4},maxlength:"255","show-word-limit":""},model:{value:t.BaseMaterial.description,callback:function(e){t.$set(t.BaseMaterial,"description",e)},expression:"BaseMaterial.description"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"物料小类:"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.BaseMaterial.clazz,callback:function(e){t.$set(t.BaseMaterial,"clazz",e)},expression:"BaseMaterial.clazz"}},t._l(t.clazzs,function(t,e){return a("el-option",{key:e,attrs:{label:t.name,value:e}})}),1)],1)],1),t._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"客户零件号:",prop:"customerpn"}},[a("el-input",{attrs:{type:"customerpn"},model:{value:t.BaseMaterial.customerpn,callback:function(e){t.$set(t.BaseMaterial,"customerpn",t._n(e))},expression:"BaseMaterial.customerpn"}})],1)],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"所属产品线"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.BaseMaterial.typeid,callback:function(e){t.$set(t.BaseMaterial,"typeid",e)},expression:"BaseMaterial.typeid"}},t._l(t.typeids,function(t,e){return a("el-option",{key:e,attrs:{label:t.name,value:t.id}})}),1)],1)],1),t._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"备注"}},[a("el-input",{attrs:{type:"textarea",autosize:{minRows:2,maxRows:4},maxlength:"255","show-word-limit":""},model:{value:t.BaseMaterial.remark,callback:function(e){t.$set(t.BaseMaterial,"remark",e)},expression:"BaseMaterial.remark"}})],1)],1)],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.addbaseMaterial()}}},[t._v("提交基础信息")])],1)],1),t._v(" "),a("el-form",{ref:"Layout",attrs:{model:t.Layout,"label-width":"120px"}},[a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"汽车相关技术认证(如AEC）"}},[a("el-input",{model:{value:t.Layout.automotive,callback:function(e){t.$set(t.Layout,"automotive",e)},expression:"Layout.automotive"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"PIN脚数量",prop:"totalpins",rules:[{type:"number",message:"PIN脚数量必须为数字值"}]}},[a("el-input",{model:{value:t.Layout.totalpins,callback:function(e){t.$set(t.Layout,"totalpins",t._n(e))},expression:"Layout.totalpins"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"特殊特性"}},[a("el-input",{model:{value:t.Layout.specialcharacteristics,callback:function(e){t.$set(t.Layout,"specialcharacteristics",e)},expression:"Layout.specialcharacteristics"}})],1)],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"颜色"}},[a("el-input",{model:{value:t.Layout.color,callback:function(e){t.$set(t.Layout,"color",e)},expression:"Layout.color"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"参数值"}},[a("el-input",{model:{value:t.Layout.value,callback:function(e){t.$set(t.Layout,"value",e)},expression:"Layout.value"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"容差"}},[a("el-input",{model:{value:t.Layout.tolerance,callback:function(e){t.$set(t.Layout,"tolerance",e)},expression:"Layout.tolerance"}})],1)],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"工作温度范围"}},[a("el-input",{model:{value:t.Layout.temperature,callback:function(e){t.$set(t.Layout,"temperature",e)},expression:"Layout.temperature"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"工作电压范围"}},[a("el-input",{model:{value:t.Layout.voltagerange,callback:function(e){t.$set(t.Layout,"voltagerange",e)},expression:"Layout.voltagerange"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"工作电流范围"}},[a("el-input",{model:{value:t.Layout.currentrange,callback:function(e){t.$set(t.Layout,"currentrange",e)},expression:"Layout.currentrange"}})],1)],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"功率范围"}},[a("el-input",{model:{value:t.Layout.powerrange,callback:function(e){t.$set(t.Layout,"powerrange",e)},expression:"Layout.powerrange"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"物料重量（g）"}},[a("el-input",{model:{value:t.Layout.weight_g,callback:function(e){t.$set(t.Layout,"weight_g",e)},expression:"Layout.weight_g"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"抗静电等级"}},[a("el-input",{model:{value:t.Layout.esd,callback:function(e){t.$set(t.Layout,"esd",e)},expression:"Layout.esd"}})],1)],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"失效率"}},[a("el-input",{model:{value:t.Layout.fit,callback:function(e){t.$set(t.Layout,"fit",e)},expression:"Layout.fit"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"PCB封装名称"}},[a("el-input",{model:{value:t.Layout.footprint,callback:function(e){t.$set(t.Layout,"footprint",e)},expression:"Layout.footprint"}})],1)],1)],1),t._v(" "),a("el-form-item",[""==t.Layout1?a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.addLayout()}}},[t._v("提交设计属性")]):t._e(),t._v(" "),""!==t.Layout1?a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.ModifyLayout()}}},[t._v("修改设计属性")]):t._e()],1)],1),t._v(" "),a("el-form",{ref:"Crafts",attrs:{model:t.Crafts,"label-width":"120px"}},[a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"耐回流焊次数",prop:"reflowcycles",rules:[{type:"number",message:"耐回流焊次数必须为数字值"}]}},[a("el-input",{model:{value:t.Crafts.reflowcycles,callback:function(e){t.$set(t.Crafts,"reflowcycles",t._n(e))},expression:"Crafts.reflowcycles"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"环保标准"}},[a("el-input",{model:{value:t.Crafts.environment,callback:function(e){t.$set(t.Crafts,"environment",e)},expression:"Crafts.environment"}})],1)],1)],1),t._v(" "),a("el-form-item",[""==t.Crafts1?a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.addprocess()}}},[t._v("提交工艺环保属性")]):t._e(),t._v(" "),""!==t.Crafts1?a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.Modifyprocess()}}},[t._v("修改工艺环保属性")]):t._e()],1)],1),t._v(" "),a("el-form",{ref:"Cycle",attrs:{model:t.Cycle,"label-width":"120px"}},[a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"保质期",prop:"expireduration",rules:[{type:"number",message:"保质期必须为数字值"}]}},[a("el-input",{attrs:{title:"1、填写必须以天计算  2、填写必须为整数，不能带单位"},model:{value:t.Cycle.expireduration,callback:function(e){t.$set(t.Cycle,"expireduration",t._n(e))},expression:"Cycle.expireduration"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"使用寿命",prop:"lifeduration",rules:[{type:"number",message:"使用寿命必须为数字值"}]}},[a("el-input",{attrs:{title:"1、填写必须以天计算  2、填写必须为整数，不能带单位"},model:{value:t.Cycle.lifeduration,callback:function(e){t.$set(t.Cycle,"lifeduration",t._n(e))},expression:"Cycle.lifeduration"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"剩余寿命",prop:"liferemaining",rules:[{type:"number",message:"剩余寿命必须为数字值"}]}},[a("el-input",{attrs:{title:"1、填写必须以天计算  2、填写必须为整数，不能带单位"},model:{value:t.Cycle.liferemaining,callback:function(e){t.$set(t.Cycle,"liferemaining",t._n(e))},expression:"Cycle.liferemaining"}})],1)],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"计价单位"}},[a("el-input",{model:{value:t.Cycle.unitofaccount,callback:function(e){t.$set(t.Cycle,"unitofaccount",e)},expression:"Cycle.unitofaccount"}})],1)],1)],1),t._v(" "),a("el-form-item",[""==t.Cycle1?a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.addcycle()}}},[t._v("提交周期属性")]):t._e(),t._v(" "),""!==t.Cycle1?a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.Modifycycle()}}},[t._v("修改周期属性")]):t._e()],1)],1),t._v(" "),a("el-form",{ref:"Logistic",attrs:{model:t.Logistic,"label-width":"120px"}},[a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{"label-width":"120px",label:"包装形式"}},[a("el-select",{on:{change:t.changeid},model:{value:t.Logistic.packageid,callback:function(e){t.$set(t.Logistic,"packageid",e)},expression:"Logistic.packageid"}},t._l(t.packageid,function(t,e){return a("el-option",{key:e,attrs:{label:t.name,value:t.id}})}),1)],1)],1),t._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"计量单位"}},[a("el-select",{on:{change:t.changeunit},model:{value:t.Logistic.unit,callback:function(e){t.$set(t.Logistic,"unit",e)},expression:"Logistic.unit"}},t._l(t.unit,function(t,e){return a("el-option",{key:e,attrs:{label:t.name,value:e}})}),1)],1)],1),t._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"每包装数量"}},[a("el-input",{attrs:{placeholder:"只填写数值"},model:{value:t.Logistic.packagenumber,callback:function(e){t.$set(t.Logistic,"packagenumber",e)},expression:"Logistic.packagenumber"}})],1)],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"补给方式"}},[a("el-select",{model:{value:t.Logistic.supplyform,callback:function(e){t.$set(t.Logistic,"supplyform",e)},expression:"Logistic.supplyform"}},[a("el-option",{attrs:{label:"采购",value:"B:采购"}}),t._v(" "),a("el-option",{attrs:{label:"生产",value:"M:生产"}})],1)],1)],1),t._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"批次管理"}},[a("el-select",{model:{value:t.Logistic.batchtrace,callback:function(e){t.$set(t.Logistic,"batchtrace",e)},expression:"Logistic.batchtrace"}},[a("el-option",{attrs:{label:"是",value:"true"}}),t._v(" "),a("el-option",{attrs:{label:"否",value:"false"}})],1)],1)],1),t._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"序列号管理"}},[a("el-select",{model:{value:t.Logistic.sntrace,callback:function(e){t.$set(t.Logistic,"sntrace",e)},expression:"Logistic.sntrace"}},[a("el-option",{attrs:{label:"是",value:"true"}}),t._v(" "),a("el-option",{attrs:{label:"否",value:"false"}})],1)],1)],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"最小库存",prop:"stockmin",rules:[{type:"number",message:"最小库存必须为数字值"}]}},[a("el-input",{model:{value:t.Logistic.stockmin,callback:function(e){t.$set(t.Logistic,"stockmin",t._n(e))},expression:"Logistic.stockmin"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"最大库存",prop:"stockmax",rules:[{type:"number",message:"最大库存必须为数字值"}]}},[a("el-input",{model:{value:t.Logistic.stockmax,callback:function(e){t.$set(t.Logistic,"stockmax",t._n(e))},expression:"Logistic.stockmax"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"库存类型"}},[a("el-select",{model:{value:t.Logistic.stocktypeid,callback:function(e){t.$set(t.Logistic,"stocktypeid",e)},expression:"Logistic.stocktypeid"}},t._l(t.stocktypeid,function(t,e){return a("el-option",{key:e,attrs:{label:t.name,value:t.id}})}),1)],1)],1)],1),t._v(" "),a("el-row",[a("el-form-item",{attrs:{label:"生产发料方式"}},[a("el-select",{model:{value:t.Logistic.logisticinplant,callback:function(e){t.$set(t.Logistic,"logisticinplant",e)},expression:"Logistic.logisticinplant"}},[a("el-option",{attrs:{label:"手工",value:"M:手工"}}),t._v(" "),a("el-option",{attrs:{label:"倒冲",value:"B:倒冲"}})],1)],1)],1),t._v(" "),a("el-form-item",[""==t.Logistic1?a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.addlogistics()}}},[t._v("提交物流属性")]):t._e(),t._v(" "),""!==t.Logistic1?a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.Modifylogistics()}}},[t._v("修改物流属性")]):t._e()],1)],1),t._v(" "),a("el-form",{ref:"Stock",attrs:{model:t.Stock,"label-width":"120px"}},[a("el-divider",{attrs:{"content-position":"left"}},[t._v("供应商")]),t._v(" "),a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"供应商"}},[a("el-input",{model:{value:t.Stock.manufacturer,callback:function(e){t.$set(t.Stock,"manufacturer",e)},expression:"Stock.manufacturer"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"供应商标识"}},[a("el-input",{model:{value:t.Stock.manufactureridentification,callback:function(e){t.$set(t.Stock,"manufactureridentification",e)},expression:"Stock.manufactureridentification"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"代理商"}},[a("el-input",{model:{value:t.Stock.agent,callback:function(e){t.$set(t.Stock,"agent",e)},expression:"Stock.agent"}})],1)],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"代理商标识"}},[a("el-input",{model:{value:t.Stock.agentidentification,callback:function(e){t.$set(t.Stock,"agentidentification",e)},expression:"Stock.agentidentification"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"订购码"}},[a("el-input",{model:{value:t.Stock.manufacturerpartnumber,callback:function(e){t.$set(t.Stock,"manufacturerpartnumber",e)},expression:"Stock.manufacturerpartnumber"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"物料订购周期",prop:"orderingperiod",rules:[{type:"number",message:"物料订购周期必须为数字值"}]}},[a("el-input",{attrs:{title:"1、填写必须以天计算  2、填写必须为整数，不能带单位"},model:{value:t.Stock.orderingperiod,callback:function(e){t.$set(t.Stock,"orderingperiod",t._n(e))},expression:"Stock.orderingperiod"}})],1)],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"最小订购数量",prop:"minpurchasenumber",rules:[{type:"number",message:"最小订购数量必须为数字值"}]}},[a("el-input",{attrs:{title:"填写必须为整数，不带单位"},model:{value:t.Stock.minpurchasenumber,callback:function(e){t.$set(t.Stock,"minpurchasenumber",t._n(e))},expression:"Stock.minpurchasenumber"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{"label-width":"150px",label:"报价中是否含原材料"}},[a("el-select",{model:{value:t.Stock.priceincludematerial,callback:function(e){t.$set(t.Stock,"priceincludematerial",e)},expression:"Stock.priceincludematerial"}},[a("el-option",{attrs:{label:"是",value:"true"}}),t._v(" "),a("el-option",{attrs:{label:"否",value:"false"}})],1)],1)],1),t._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"阶梯价格1"}},[a("el-input",{model:{value:t.Stock.volumeprice,callback:function(e){t.$set(t.Stock,"volumeprice",e)},expression:"Stock.volumeprice"}})],1)],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"阶梯价格2"}},[a("el-input",{model:{value:t.Stock.volumeprice2,callback:function(e){t.$set(t.Stock,"volumeprice2",e)},expression:"Stock.volumeprice2"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"阶梯价格3"}},[a("el-input",{model:{value:t.Stock.volumeprice3,callback:function(e){t.$set(t.Stock,"volumeprice3",e)},expression:"Stock.volumeprice3"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"现行价格",prop:"currentprice",rules:[{type:"number",message:"现行价格必须为数字值"}]}},[a("el-input",{model:{value:t.Stock.currentprice,callback:function(e){t.$set(t.Stock,"currentprice",t._n(e))},expression:"Stock.currentprice"}})],1)],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"年降",prop:"lta",rules:[{type:"number",message:"年降必须为数字值"}]}},[a("el-input",{model:{value:t.Stock.lta,callback:function(e){t.$set(t.Stock,"lta",t._n(e))},expression:"Stock.lta"}})],1)],1)],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:t.open}},[t._v("提交采购属性")]),t._v(" "),""!==t.Stocks1?a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.Modifystock1()}}},[t._v("修改采购属性")]):t._e()],1)],1),t._v(" "),t.stocklength.length>=2?a("div",{attrs:{"v-model":t.stocklength}},[a("el-form",{ref:"Stock2",attrs:{model:t.Stock2,"label-width":"120px"}},[a("el-divider",{attrs:{"content-position":"left"}},[t._v("供应商2")]),t._v(" "),a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"供应商"}},[a("el-input",{model:{value:t.Stock2.manufacturer,callback:function(e){t.$set(t.Stock2,"manufacturer",e)},expression:"Stock2.manufacturer"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"供应商标识"}},[a("el-input",{model:{value:t.Stock2.manufactureridentification,callback:function(e){t.$set(t.Stock2,"manufactureridentification",e)},expression:"Stock2.manufactureridentification"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"代理商"}},[a("el-input",{model:{value:t.Stock2.agent,callback:function(e){t.$set(t.Stock2,"agent",e)},expression:"Stock2.agent"}})],1)],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"代理商标识"}},[a("el-input",{model:{value:t.Stock2.agentidentification,callback:function(e){t.$set(t.Stock2,"agentidentification",e)},expression:"Stock2.agentidentification"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"订购码"}},[a("el-input",{model:{value:t.Stock2.manufacturerpartnumber,callback:function(e){t.$set(t.Stock2,"manufacturerpartnumber",e)},expression:"Stock2.manufacturerpartnumber"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"物料订购周期",prop:"orderingperiod",rules:[{type:"number",message:"物料订购周期必须为数字值"}]}},[a("el-input",{attrs:{title:"1、填写必须以天计算  2、填写必须为整数，不能带单位"},model:{value:t.Stock2.orderingperiod,callback:function(e){t.$set(t.Stock2,"orderingperiod",t._n(e))},expression:"Stock2.orderingperiod"}})],1)],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"最小订购数量",prop:"minpurchasenumber",rules:[{type:"number",message:"最小订购数量必须为数字值"}]}},[a("el-input",{attrs:{title:"填写必须为整数，不带单位"},model:{value:t.Stock2.minpurchasenumber,callback:function(e){t.$set(t.Stock2,"minpurchasenumber",t._n(e))},expression:"Stock2.minpurchasenumber"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{"label-width":"150px",label:"报价中是否含原材料"}},[a("el-select",{model:{value:t.Stock2.priceincludematerial,callback:function(e){t.$set(t.Stock2,"priceincludematerial",e)},expression:"Stock2.priceincludematerial"}},[a("el-option",{attrs:{label:"是",value:"true"}}),t._v(" "),a("el-option",{attrs:{label:"否",value:"false"}})],1)],1)],1),t._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"阶梯价格1"}},[a("el-input",{model:{value:t.Stock2.volumeprice,callback:function(e){t.$set(t.Stock2,"volumeprice",e)},expression:"Stock2.volumeprice"}})],1)],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"阶梯价格2"}},[a("el-input",{model:{value:t.Stock2.volumeprice2,callback:function(e){t.$set(t.Stock2,"volumeprice2",e)},expression:"Stock2.volumeprice2"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"阶梯价格3"}},[a("el-input",{model:{value:t.Stock2.volumeprice3,callback:function(e){t.$set(t.Stock2,"volumeprice3",e)},expression:"Stock2.volumeprice3"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"现行价格",prop:"currentprice",rules:[{type:"number",message:"现行价格必须为数字值"}]}},[a("el-input",{model:{value:t.Stock2.currentprice,callback:function(e){t.$set(t.Stock2,"currentprice",t._n(e))},expression:"Stock2.currentprice"}})],1)],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"年降",prop:"lta",rules:[{type:"number",message:"年降必须为数字值"}]}},[a("el-input",{model:{value:t.Stock2.lta,callback:function(e){t.$set(t.Stock2,"lta",t._n(e))},expression:"Stock2.lta"}})],1)],1)],1),t._v(" "),a("el-form-item",[""==t.Stocks2?a("el-button",{attrs:{type:"primary"},on:{click:t.open}},[t._v("提交采购属性")]):t._e(),t._v(" "),""!==t.Stocks2?a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.Modifystock2()}}},[t._v("修改采购属性")]):t._e()],1)],1)],1):t._e(),t._v(" "),t.stocklength.length>=3?a("div",{attrs:{"v-model":t.stocklength}},[a("el-form",{ref:"Stock3",attrs:{model:t.Stock3,"label-width":"120px"}},[a("el-divider",{attrs:{"content-position":"left"}},[t._v("供应商3")]),t._v(" "),a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"供应商"}},[a("el-input",{model:{value:t.Stock3.manufacturer,callback:function(e){t.$set(t.Stock3,"manufacturer",e)},expression:"Stock3.manufacturer"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"供应商标识"}},[a("el-input",{model:{value:t.Stock3.manufactureridentification,callback:function(e){t.$set(t.Stock3,"manufactureridentification",e)},expression:"Stock3.manufactureridentification"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"代理商"}},[a("el-input",{model:{value:t.Stock3.agent,callback:function(e){t.$set(t.Stock3,"agent",e)},expression:"Stock3.agent"}})],1)],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"代理商标识"}},[a("el-input",{model:{value:t.Stock3.agentidentification,callback:function(e){t.$set(t.Stock3,"agentidentification",e)},expression:"Stock3.agentidentification"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"订购码"}},[a("el-input",{model:{value:t.Stock3.manufacturerpartnumber,callback:function(e){t.$set(t.Stock3,"manufacturerpartnumber",e)},expression:"Stock3.manufacturerpartnumber"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"物料订购周期",prop:"orderingperiod",rules:[{type:"number",message:"物料订购周期必须为数字值"}]}},[a("el-input",{attrs:{title:"1、填写必须以天计算  2、填写必须为整数，不能带单位"},model:{value:t.Stock3.orderingperiod,callback:function(e){t.$set(t.Stock3,"orderingperiod",e)},expression:"Stock3.orderingperiod"}})],1)],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"最小订购数量",prop:"minpurchasenumber",rules:[{type:"number",message:"最小订购数量必须为数字值"}]}},[a("el-input",{attrs:{title:"填写必须为整数，不带单位"},model:{value:t.Stock3.minpurchasenumber,callback:function(e){t.$set(t.Stock3,"minpurchasenumber",e)},expression:"Stock3.minpurchasenumber"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{"label-width":"150px",label:"报价中是否含原材料"}},[a("el-select",{model:{value:t.Stock3.priceincludematerial,callback:function(e){t.$set(t.Stock3,"priceincludematerial",e)},expression:"Stock3.priceincludematerial"}},[a("el-option",{attrs:{label:"是",value:"true"}}),t._v(" "),a("el-option",{attrs:{label:"否",value:"false"}})],1)],1)],1),t._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"阶梯价格1"}},[a("el-input",{model:{value:t.Stock3.volumeprice,callback:function(e){t.$set(t.Stock3,"volumeprice",e)},expression:"Stock3.volumeprice"}})],1)],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"阶梯价格2"}},[a("el-input",{model:{value:t.Stock3.volumeprice2,callback:function(e){t.$set(t.Stock3,"volumeprice2",e)},expression:"Stock3.volumeprice2"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"阶梯价格3"}},[a("el-input",{model:{value:t.Stock3.volumeprice3,callback:function(e){t.$set(t.Stock3,"volumeprice3",e)},expression:"Stock3.volumeprice3"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"现行价格",prop:"currentprice",rules:[{type:"number",message:"现行价格必须为数字值"}]}},[a("el-input",{model:{value:t.Stock3.currentprice,callback:function(e){t.$set(t.Stock3,"currentprice",e)},expression:"Stock3.currentprice"}})],1)],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"年降",prop:"lta",rules:[{type:"number",message:"年降必须为数字值"}]}},[a("el-input",{model:{value:t.Stock3.lta,callback:function(e){t.$set(t.Stock3,"lta",e)},expression:"Stock3.lta"}})],1)],1)],1),t._v(" "),a("el-form-item",[""==t.Stocks3?a("el-button",{attrs:{type:"primary"},on:{click:t.open}},[t._v("提交采购属性")]):t._e(),t._v(" "),""!==t.Stocks3?a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.Modifystock3()}}},[t._v("修改采购属性")]):t._e()],1)],1)],1):t._e()],1)],1)],1),t._v(" "),a("el-tab-pane",{attrs:{label:"源文件",name:"sourceFile"}},[a("el-upload",{ref:"uploadRatio",staticClass:"upload-demo",attrs:{multiple:"",limit:20,action:"actions","file-list":t.fileList,"auto-upload":!1}},[a("el-button",{attrs:{slot:"trigger",size:"small",type:"primary"},slot:"trigger"},[t._v("选取文件")]),t._v(" "),a("el-button",{staticStyle:{"margin-left":"10px"},attrs:{size:"small",type:"success"},on:{click:t.changeUpload}},[t._v("上传到服务器")])],1),t._v(" "),a("el-table",{staticStyle:{width:"900px",display:"block",margin:"0 auto","margin-top":"20px"},attrs:{data:t.fileData,"max-height":"1000"}},[a("el-table-column",{attrs:{fixed:"",prop:"docname",label:"文件名",width:"150"}}),t._v(" "),a("el-table-column",{attrs:{prop:"suffix",label:"文件类型",width:"120"}}),t._v(" "),a("el-table-column",{attrs:{prop:"docsize",label:"文件大小",width:"120"}}),t._v(" "),a("el-table-column",{attrs:{prop:"updatatime",label:"文件上传时间",width:"170"}}),t._v(" "),a("el-table-column",{attrs:{label:"删除",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"small"},nativeOn:{click:function(a){a.preventDefault(),t.cancelfileAssociated(e.row,e.$index,t.fileData)}}},[t._v("删除")])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"预览",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"small",plain:""},nativeOn:{click:function(a){a.preventDefault(),t.preview(e.row)}}},[t._v("预览\n                ")])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"下载",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"small"},nativeOn:{click:function(a){a.preventDefault(),t.downfile(e.row)}}},[t._v("下载")])]}}])})],1)],1),t._v(" "),a("el-tab-pane",{attrs:{label:"连接",name:"connection"}},[a("el-table",{staticStyle:{width:"600px",display:"block",margin:"0 auto","margin-top":"20px"},attrs:{data:t.tableData,"max-height":"800"}},[a("el-table-column",{attrs:{fixed:"",prop:"erpnum",label:"ERP编码",width:"150"}}),t._v(" "),a("el-table-column",{attrs:{prop:"namecn",label:"物料简称",width:"120"}}),t._v(" "),a("el-table-column",{attrs:{fixed:"right",label:"取消关联",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"small"},nativeOn:{click:function(a){a.preventDefault(),t.cancelMaterialAssociated(e.row,e.$index,t.tableData)}}},[t._v("取消关联")])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"查看",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"small"},nativeOn:{click:function(a){a.preventDefault(),t.seeMaterielInformation(e.row)}}},[t._v("查看")])]}}])})],1),t._v(" "),a("div",{staticClass:"block"},[a("el-pagination",{attrs:{"current-page":t.pageInfo.currentPage,"page-size":t.pageInfo.pageSize,layout:"total, prev, pager, next",total:t.pageInfo.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange,"update:currentPage":function(e){t.$set(t.pageInfo,"currentPage",e)}}})],1),t._v(" "),a("span",[t._v("选择文档")]),t._v(" "),a("el-select",{attrs:{placeholder:"请选择"},on:{change:t.changehandel},model:{value:t.GraphicFileresult,callback:function(e){t.GraphicFileresult=e},expression:"GraphicFileresult"}},t._l(t.GraphicFiles,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1),t._v(" "),a("el-table",{attrs:{data:t.Collectionfile}},[a("el-table-column",{attrs:{property:"docname",label:"文件名",width:"160"}}),t._v(" "),a("el-table-column",{attrs:{property:"docnum",label:"文件编号",width:"200"}}),t._v(" "),a("el-table-column",{attrs:{property:"createtime",label:"时间"}}),t._v(" "),a("el-table-column",{attrs:{label:"下载",width:"80"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text"},nativeOn:{click:function(a){a.preventDefault(),t.Downloadfile(e.row)}}},[t._v("下载")])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"预览",width:"80"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text"},nativeOn:{click:function(a){a.preventDefault(),t.preview(e.row)}}},[t._v("预览")])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"关联",width:"80"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text"},nativeOn:{click:function(a){a.preventDefault(),t.relation(e.row)}}},[t._v("关联")])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"删除",width:"80"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text"},nativeOn:{click:function(a){a.preventDefault(),t.Deletefile(e.row,e.$index,t.gridData)}}},[t._v("删除")])]}}])})],1)],1),t._v(" "),a("el-tab-pane",{attrs:{label:"被连接",name:"connected"}},[a("el-table",{staticStyle:{width:"560px",display:"block",margin:"0 auto","margin-top":"20px"},attrs:{data:t.BeConnected,"max-height":"800"}},[a("el-table-column",{attrs:{fixed:"",prop:"erpnum",label:"ERP编码",width:"150"}}),t._v(" "),a("el-table-column",{attrs:{prop:"namecn",label:"物料简称",width:"120"}}),t._v(" "),a("el-table-column",{attrs:{label:"查看",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"small"},nativeOn:{click:function(a){a.preventDefault(),t.seeMaterielInformation(e.row)}}},[t._v("查看")])]}}])})],1),t._v(" "),a("div",{staticClass:"block"},[a("el-pagination",{attrs:{"current-page":t.pageInfo2.currentPage,"page-size":t.pageInfo2.pageSize,layout:"total, prev, pager, next",total:t.pageInfo2.total},on:{"size-change":t.handleSizeChange1,"current-change":t.handleCurrentChange1,"update:currentPage":function(e){t.$set(t.pageInfo2,"currentPage",e)}}})],1)],1),t._v(" "),a("el-tab-pane",{attrs:{label:"流程信息",name:"ProcessInformation"}},[a("el-button",{attrs:{type:"text"},on:{click:function(e){t.ApprovalGroup=!0}}},[t._v("点击添加审批组")]),t._v(" "),a("el-button",{attrs:{type:"text"},on:{click:function(e){t.InitiateApprovalVisible=!0}}},[t._v("发起审批")]),t._v(" "),a("el-button",{attrs:{type:"text"},on:{click:t.chakanshenpihuodong}},[t._v("查看审批活动")])],1),t._v(" "),a("el-tab-pane",{attrs:{label:"项目信息",name:"ProjectInformation"}},[t._v("项目信息")]),t._v(" "),a("el-tab-pane",{attrs:{label:"访问日志",name:"AccessLog"}},[t._v("访问日志")])],1),t._v(" "),a("el-dialog",{attrs:{title:"创建审批组",visible:t.ApprovalGroup},on:{"update:visible":function(e){t.ApprovalGroup=e}}},[a("div",[a("span",[t._v("审批组名称")]),t._v(" "),a("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入名称"},model:{value:t.ApprovalGroupname,callback:function(e){t.ApprovalGroupname=e},expression:"ApprovalGroupname"}})],1),t._v(" "),a("div",[a("span",[t._v("选择审批人")]),t._v(" "),a("el-cascader",{attrs:{options:t.PullDownPersonnel,props:{expandTrigger:"hover"},"show-all-levels":!1},on:{change:t.handleChange},model:{value:t.PullDownPersonnels,callback:function(e){t.PullDownPersonnels=e},expression:"PullDownPersonnels"}})],1),t._v(" "),a("div",[a("span",[t._v("选择审核人（可多选）")]),t._v(" "),a("el-cascader",{attrs:{options:t.PullDownPersonnel,props:{expandTrigger:"hover",multiple:!0,emitPath:!1},"show-all-levels":!1},on:{change:t.handleChangetwo},model:{value:t.PullDownPersonnels2,callback:function(e){t.PullDownPersonnels2=e},expression:"PullDownPersonnels2"}})],1),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){e.stopPropagation(),t.establishApprovalGroup()}}},[t._v("创建")])],1),t._v(" "),a("el-dialog",{attrs:{title:"发起审批",visible:t.InitiateApprovalVisible},on:{"update:visible":function(e){t.InitiateApprovalVisible=e}}},[a("div",[a("el-row",[a("el-col",{attrs:{span:8}},[a("span",[t._v("流程标题")]),t._v(" "),a("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入名称"},model:{value:t.ProcessTitle,callback:function(e){t.ProcessTitle=e},expression:"ProcessTitle"}})],1),t._v(" "),a("el-col",{attrs:{span:8}},[a("span",{staticStyle:{"margin-left":"20px"}},[t._v("流程内容")]),t._v(" "),a("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入名称"},model:{value:t.ProcessContent,callback:function(e){t.ProcessContent=e},expression:"ProcessContent"}})],1)],1),t._v(" "),a("el-table",{staticStyle:{width:"560px",display:"block",margin:"0 auto","margin-top":"20px"},attrs:{data:t.shenpizushuju,"max-height":"800"},on:{select:t.xuanzhong}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),t._v(" "),a("el-table-column",{attrs:{fixed:"",prop:"processname",label:"审批组名称",width:"150"}}),t._v(" "),a("el-table-column",{attrs:{label:"审批人",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"small"},nativeOn:{click:function(a){a.preventDefault(),t.seeApprovedBy(e.row)}}},[t._v("查看审批人")])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"审核人",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"small"},nativeOn:{click:function(a){a.preventDefault(),t.seeReviewer(e.row)}}},[t._v("查看审核人")])]}}])})],1)],1),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.InitiateApproval}},[t._v("确 定")])],1),t._v(" "),a("el-dialog",{attrs:{title:"审批人",visible:t.information},on:{"update:visible":function(e){t.information=e}}},[a("p",[t._v(t._s(t.shenpishenhe))])]),t._v(" "),a("el-dialog",{attrs:{title:"审核人",visible:t.informationseeReviewer},on:{"update:visible":function(e){t.informationseeReviewer=e}}},t._l(t.shenhe,function(e){return a("p",{key:e.index},[t._v(t._s(e))])}),0)],1)},staticRenderFns:[]};var c=a("VU/8")(o,r,!1,function(t){a("q2+P")},null,null);e.a=c.exports},WK1I:function(t,e){},nzlJ:function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__=__webpack_require__("mvHQ"),__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__),__WEBPACK_IMPORTED_MODULE_1__assets_event__=__webpack_require__("HXNT"),__WEBPACK_IMPORTED_MODULE_2__inde__=__webpack_require__("DIzo");__webpack_exports__.a={components:{tabsd:__WEBPACK_IMPORTED_MODULE_2__inde__.a},data:function(){return{data:[{id:1,label:"业务对象",children:[{id:2,label:"产品线"},{id:3,label:"零部件",children:[{id:4,label:"物料"}]},{id:5,label:"流程对象"},{id:6,label:"图文档案"},{id:7,label:"项目管理"},{id:8,label:"业务表单"}]}],fukewuliaoid:"",fuketankuang:!1,checkList2:[],fuketype:null,fileMenus:[],activeName:"attributelist",associatedMaterialid:"",BeAssociatedMaterialid:"",rows:[],checked:!1,checkList:[],type:null,tableData:[],materialList:[],attribute:"",attributename:"",condition:"",condition2:"",attributes:[],defaultProps:{children:"children",label:"label"},row:"",searchResult:"2",searchResultarr:[],editableTabsValue:"2",editableTabs:[],con:[{name:"搜索",indexs:"search"}],tabIndex:2}},mounted:function(){this.getdata(),this.fileRelated()},methods:{handleNodeClick:function(t){},deleteRow:function(t,e){e.splice(t,1)},deleteRow2:function(t,e){e.splice(t,1)},abc:function(t){console.log(t),2==t.length?this.type=3:1==t[0]?this.type=1:2==t[0]?this.type=2:this.type=null},changesName:function(t){var e;e=this.attributes.find(function(e){return e.id===t}),this.attributename=e.name},Reprint:function(t){this.fuketankuang=!0,this.fukewuliaoid=t.baseid},abcd:function(t){2==t.length?this.fuketype=3:1==t[0]?this.fuketype=1:2==t[0]?this.fuketype=2:this.fuketype=null},fuzhi:function(){var t=this,e=new URLSearchParams;e.append("baseid",this.fukewuliaoid),e.append("type",this.fuketype),this.$http.post("plm/copy/baseMaterail.do",e).then(function(e){console.log(e),t.materialList.push(e.data.data),t.$message({message:"复制成功",type:"success"})})},getdata:function(){var t=this;this.$http.get("plm/select/baseMsg.do").then(function(e){for(var a=e.data.data,i=0;i<a.selectTree.length;i++)t.attributes.push({name:a.selectTree[i].value,id:a.selectTree[i].mainClass})})},fileRelated:function(){var t=this;this.$http.get("plm_file/select/msg.do").then(function(e){var a=e.data.data;0!=e.data.length&&void 0!=e.data&&a.menu.forEach(function(e){var a=[];e.menus.forEach(function(t){var e=[];t.menus.forEach(function(t){var a=[];t.menus.forEach(function(t){a.push({label:t.menuname,value:t.menuid})}),e.push({label:t.menuname,value:t.menuid,children:a})}),a.push({label:t.menuname,value:t.menuid,children:e})}),t.fileMenus.push({label:e.menuname,value:e.menuid,children:a})})})},addform:function(){var t={};""!=this.attribute&&(t={name:this.attributename,mainClass:this.attribute,value:this.condition,type:this.type}),this.tableData.push(t)},removeTab2:function(t){var e=this.searchResultarr,a=this.searchResult;a===t&&e.forEach(function(i,l){if(i.name===t){var s=e[l+1]||e[l-1];s&&(a=s.name)}}),this.searchResult=a,this.searchResultarr=e.filter(function(e){return e.name!==t})},switchTab2:function switchTab2(row,enent){var _this4=this,datas=[],tables=[];tables.push(this.searchResultarr[row.index]),tables.forEach(function(item){var aa=item.labelContent.substring(11);tables=eval(aa)}),tables.forEach(function(t){datas.push({mainClass:t.mainClass,value:t.value,type:t.type})});var conditions="conditions="+__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default()(datas);this.$http.post("plm/find/byCondition.do",conditions).then(function(t){var e=[];t.data.data.forEach(function(t){e.push(t),_this4.materialList=e})})},clickQuery:function(t){var e=this,a=[];if(0!=this.tableData.length){this.tableData.forEach(function(t){a.push({mainClass:t.mainClass,value:t.value,type:t.type})});var i="conditions="+__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default()(a);this.$http.post("plm/find/byCondition.do",i).then(function(t){var a=t.data.data,l=new Date,s=l.getHours(),n=l.getMinutes(),o=l.getSeconds();s<10&&(s="0"+s),n<10&&(n="0"+n),o<10&&(o="0"+o);var r=s+":"+n+":"+o;e.materialList=a;var c=r;e.searchResultarr.push({title:"物料  ("+r+")",name:c,labelContent:i}),e.searchResult=c;var u=[];a.forEach(function(t){u.push(t),e.materialList=u})})}else this.$message({message:"请填写数据",type:"warning"});this.tableData=[]},switchTab:function(t,e){this.associatedMaterialid=this.editableTabsValue.replace(/[^0-9]/gi,"")},selects:function(t){var e=this;this.rows=t,t.length>0?t.forEach(function(t){e.BeAssociatedMaterialid=t.baseid}):this.BeAssociatedMaterialid=""},associated:function(){var t=this,e=new URLSearchParams;if(e.append("baseid",parseInt(this.associatedMaterialid)),this.$http.post("plm_link/select/bomByBase.do",e).then(function(t){console.log(t)}),this.BeAssociatedMaterialid&&this.associatedMaterialid){var a=new URLSearchParams;a.append("mainbaseid",parseInt(this.associatedMaterialid)),a.append("subbaseid",this.BeAssociatedMaterialid),this.$http.post("plm_link/base_Link.do",a).then(function(e){200==e.data.code?(__WEBPACK_IMPORTED_MODULE_1__assets_event__.a.$emit("guanlianwuliao",t.rows),t.$message({message:"关联成功",type:"success"})):"is repeat"==e.data.msg?t.$message({message:"已经关联过",type:"warning"}):t.$message({message:"关联失败",type:"warning"})})}else this.$message({message:"请选择要关联的物料",type:"warning"})},chicktab:function(t){this.row=t,this.associatedMaterialid=t.baseid,localStorage.setItem("materialdata",__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default()(this.row)),__WEBPACK_IMPORTED_MODULE_1__assets_event__.a.$emit("perform");__WEBPACK_IMPORTED_MODULE_2__inde__.a;if(0==this.editableTabs.length){var e="id"+t.baseid;this.editableTabs.push({title:"物料"+t.erpnum,name:e,num:t.baseid}),this.editableTabsValue=e}else{var a="id"+t.baseid;-1==__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default()(this.editableTabs).indexOf("物料"+t.erpnum)?(this.editableTabs.push({title:"物料"+t.erpnum,name:a,num:t.baseid}),this.editableTabsValue=a):this.$message({message:"已打开",type:"warning"})}},removeTab:function(t){var e=this.editableTabs,a=this.editableTabsValue;a===t&&e.forEach(function(i,l){if(i.name===t){var s=e[l+1]||e[l-1];s&&(a=s.name)}}),this.editableTabsValue=a,this.editableTabs=e.filter(function(e){return e.name!==t})}}}},o746:function(t,e){},"q2+P":function(t,e){},yXGx:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEIAAABCCAYAAADjVADoAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA+tpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdFJlZj0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlUmVmIyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ0MgMjAxNyAoV2luZG93cykiIHhtcDpDcmVhdGVEYXRlPSIyMDE5LTEwLTI0VDEzOjE4OjI2KzA4OjAwIiB4bXA6TW9kaWZ5RGF0ZT0iMjAxOS0xMC0yNFQxMzoyNTo1NCswODowMCIgeG1wOk1ldGFkYXRhRGF0ZT0iMjAxOS0xMC0yNFQxMzoyNTo1NCswODowMCIgZGM6Zm9ybWF0PSJpbWFnZS9wbmciIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6QzA1NzkxRkVGNjFFMTFFOTlBMjhGODY5NjZCMjMwNjciIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6QzA1NzkxRkZGNjFFMTFFOTlBMjhGODY5NjZCMjMwNjciPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpDMDU3OTFGQ0Y2MUUxMUU5OUEyOEY4Njk2NkIyMzA2NyIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpDMDU3OTFGREY2MUUxMUU5OUEyOEY4Njk2NkIyMzA2NyIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PpigwRYAAAJvSURBVHja7NtPa9NwHAbwJ22S2tpR6uZFB0M8eRAdiDgVBuJB9CKCgi9E8B3o0bfgSfCip52k4HwBbr6Dwk6i1FNr89cnfzrsJHFsabY2z288Yxmlye+Tb76/pGxGGIbQAGoiEIQgBCEIQQhCEEcc5tTWW+PvrVfMc2btmPv4ytxlhvu/cZlLF4Hzy8DYmd3sDM4numEcDKINoF4HfD9JEACPfmRAJINHh0/M9YIOZ535zNxhnHm6NN4XiDAZN5gvjDUvEI+ZezPa101mO6MKT1mPAB5ObQVp/ML2dyvGcNgzAl6khlHOLA/xYHkQ4lrUU+ClsZkWv51p8M3idyzisDYI24Ntv4mbVil1X+sjCL9xf/7hIAw099vZ6grQ7fIV7LRW4Zf2JnxvE46LmVbFpBI6nejnPYzH7zAcvYyrMRfC5ZfJtnGZK2a3kywzHuO6BS9raXGVdWnUOKeascoT+oJ5gMGv+8T4nt0sI6e1C1xAzwGj34jP2L94BZypkjthVBl+kJzYZvMqlpY+HOwb0xDLbWCFl8RwuLi3kB5Pbrt1myBPsyHaZ8O4bGdRBadlTAqhYT/Jhmi26vC88q7dk8QwzSvZEKZpc5mpxlNWiEY2RLU+0vb1GK7PIwQhiKNBWKZT2oPQibZJP5lrTkUEFSqCIA/CqBCEoR6hZikIQQhCEIIQhCAEIQhBCEIQghCEIAQhCEHMC4RVoblbeRCjCkGM8iB2KwSxmwexVSGIrTyIj0yvAgi9dK65q8YzZmeBEXbSOf53+fyJ5C/qXzP9BQLop3NaT+c4NQz9A6xuqAQhCEEIQhCCEMTxxh8BBgAuypcWVjuBbgAAAABJRU5ErkJggg=="},"zZ+d":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("bOdI"),l=a.n(i),s=a("nzlJ"),n={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"associated"},[a("div",{staticClass:"define"},[a("el-divider",{attrs:{"content-position":"left"}},[t._v("条件定义")]),t._v(" "),a("div",{staticClass:"define1"},[a("el-form",[a("el-form-item",{attrs:{label:"选择属性:"}},[a("el-select",{staticStyle:{width:"300px"},attrs:{placeholder:"请选择属性/可搜索",filterable:""},on:{change:t.changesName},model:{value:t.attribute,callback:function(e){t.attribute=e},expression:"attribute"}},t._l(t.attributes,function(t,e){return a("el-option",{key:e,attrs:{label:t.name,value:t.id}})}),1)],1),t._v(" "),a("el-form-item",{staticStyle:{width:"366px"},attrs:{label:"搜索条件:"}},[a("el-input",{staticClass:"cond",attrs:{placeholder:"请输入搜索条件"},model:{value:t.condition,callback:function(e){t.condition=e},expression:"condition"}}),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.addform()}}},[t._v("确定")])],1),t._v(" "),a("el-checkbox",{model:{value:t.checked,callback:function(e){t.checked=e},expression:"checked"}},[t._v("是否模糊查询")]),t._v(" "),1==t.checked?a("div",[a("el-checkbox-group",{on:{change:t.abc},model:{value:t.checkList,callback:function(e){t.checkList=e},expression:"checkList"}},[a("el-checkbox",{attrs:{label:"1"}},[t._v("前加")]),t._v(" "),a("el-checkbox",{attrs:{label:"2"}},[t._v("后加")])],1)],1):t._e(),t._v(" "),a("el-table",{staticStyle:{width:"500px",display:"block",margin:"0 auto","margin-top":"20px"},attrs:{data:t.tableData,"max-height":"800"}},[a("el-table-column",{attrs:{fixed:"",prop:"name",label:"属性",width:"150"}}),t._v(" "),a("el-table-column",{attrs:{prop:"value",label:"物料简称",width:"120"}}),t._v(" "),a("el-table-column",{attrs:{fixed:"right",label:"删除",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"small"},nativeOn:{click:function(a){a.preventDefault(),t.deleteRow(e.$index,t.tableData)}}},[t._v("删除")])]}}])})],1),t._v(" "),a("el-button",{staticClass:"QueryMaterial",staticStyle:{display:"block",margin:"0 auto","margin-top":"20px"},attrs:{type:"primary",draggable:"true"},on:{click:t.clickQuery}},[t._v("查询")])],1)],1)],1),t._v(" "),a("div",{staticClass:"materiallist"},[a("el-divider",{attrs:{"content-position":"left"}},[t._v("搜索结果")]),t._v(" "),a("el-tabs",{attrs:{type:"card",closable:""},on:{"tab-remove":t.removeTab2,"tab-click":t.switchTab2},model:{value:t.searchResult,callback:function(e){t.searchResult=e},expression:"searchResult"}},t._l(t.searchResultarr,function(e,i){return a("el-tab-pane",{key:i,attrs:{label:e.title,name:e.name}},[a("el-table",{staticClass:"materiallist1",staticStyle:{width:"500px",display:"block",margin:"0 auto","margin-top":"20px"},attrs:{data:t.materialList,"max-height":"800"},on:{"selection-change":t.selects}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),t._v(" "),a("el-table-column",{attrs:{fixed:"",prop:"erpnum",label:"ERP编码",width:"120"}}),t._v(" "),a("el-table-column",{attrs:{prop:"namecn",label:"属性",width:"80"}}),t._v(" "),a("el-table-column",{attrs:{fixed:"right",label:"删除",width:"80"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"small"},nativeOn:{click:function(a){a.preventDefault(),t.deleteRow2(e.$index,t.materialList)}}},[t._v("删除")])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"类似创建",width:"80"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"small"},nativeOn:{click:function(a){a.preventDefault(),t.Reprint(e.row)}}},[t._v("复制")])]}}])}),t._v(" "),a("el-table-column",{attrs:{fixed:"right",label:"查看",width:"80"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"small"},nativeOn:{click:function(a){a.preventDefault(),t.chicktab(e.row)}}},[t._v("查看")])]}}])})],1)],1)}),1),t._v(" "),a("el-dialog",{attrs:{title:"选择复刻资料",visible:t.fuketankuang},on:{"update:visible":function(e){t.fuketankuang=e}}},[a("el-checkbox-group",{on:{change:t.abcd},model:{value:t.checkList2,callback:function(e){t.checkList2=e},expression:"checkList2"}},[a("el-checkbox",{attrs:{label:"1"}},[t._v("复制物料")]),t._v(" "),a("el-checkbox",{attrs:{label:"2"}},[t._v("复制文档")])],1),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.fuzhi}},[t._v("复刻")])],1),t._v(" "),a("el-button",{staticStyle:{display:"block",margin:"0 auto","margin-top":"20px"},attrs:{type:"primary"},nativeOn:{click:function(e){return e.preventDefault(),t.associated(e)}}},[t._v("关联")])],1),t._v(" "),a("div",{staticClass:"materiallists"},[a("el-divider",{attrs:{"content-position":"left"}},[t._v("属性")]),t._v(" "),a("el-tabs",{attrs:{type:"card",closable:""},on:{"tab-remove":t.removeTab,"tab-click":t.switchTab},model:{value:t.editableTabsValue,callback:function(e){t.editableTabsValue=e},expression:"editableTabsValue"}},t._l(t.editableTabs,function(e,i){return a("el-tab-pane",{key:i,attrs:{label:e.title,name:e.name}},[a("tabsd",{attrs:{associatedMaterialid:t.associatedMaterialid},on:{seeMateriel:t.chicktab}})],1)}),1)],1)])},staticRenderFns:[]};var o=function(t){a("o746")},r=a("VU/8")(s.a,n,!1,o,null,null).exports,c=(a("p1Hz"),{components:{associated:r},data:function(){var t;return t={value:"0"},l()(t,"value",[]),l()(t,"nameid",""),l()(t,"clazzs",[]),l()(t,"typeids",[]),l()(t,"subclass",[]),l()(t,"group",[]),l()(t,"unit",[]),l()(t,"stocktypeid",[]),l()(t,"packageid",[]),l()(t,"chanpinwuliao",[]),l()(t,"shengchanwuliao",[]),l()(t,"GraphicFiles",[]),l()(t,"catalog",""),l()(t,"pageInfo",{currentPage:1,pageSize:5,total:0}),l()(t,"Favorite",{keepname:""}),l()(t,"Showfavorites",!0),l()(t,"keepid",""),l()(t,"Collectionlistarr",[]),l()(t,"Collectionfile",[]),l()(t,"BaseMaterialVisible",!1),l()(t,"dialogFormVisible",!1),l()(t,"PublicDocuments",!1),l()(t,"DocumentList",!1),l()(t,"CollectionVisible",!1),l()(t,"Collectionlist",!0),l()(t,"fileid",""),l()(t,"fileeditionid",""),l()(t,"options",[{value:"xinjian",label:"新建",children:[{value:"lingbujian",label:"零部件",children:[{value:"wuliao",label:"物料",children:[{value:"M",label:"生产物料",children:[]},{value:"P",label:"产品物料",children:[]}]}]},{value:"tuwendangan",label:"图文档案",children:[]}]}]),l()(t,"title",""),l()(t,"uploadfile",{filename:"",edition:"",filenum:"",fileList:[]}),l()(t,"gridData",[]),l()(t,"tableData",[]),l()(t,"erpnum",""),l()(t,"BaseMaterial1",""),l()(t,"Layout1",""),l()(t,"Crafts1",""),l()(t,"Cycle1",""),l()(t,"Logistic1",""),l()(t,"Stocks1",""),l()(t,"Stocks2",""),l()(t,"Stocks3",""),l()(t,"BaseMaterial",{namecn:"",nameen:"",nameshort:"",customerpn:"",version:"",clazz:"",subclass:"",costgroupid:"",mainmaterial:"",standard:"",description:"",typeid:"",erpnum:"",remark:"",id:""}),l()(t,"BaseMaterialrules",{namecn:[{required:!0,message:"请输入物料名称",trigger:"blur"}],costgroupid:[{required:!0,message:"请选择物料组",trigger:"change"}]}),l()(t,"Layout",{automotive:"",totalpins:"",specialcharacteristics:"",color:"",value:"",tolerance:"",temperature:"",voltagerange:"",currentrange:"",powerrange:"",weight_g:"",esd:"",fit:"",footprint:"",id:""}),l()(t,"Crafts",{reflowcycles:"",environment:"",id:""}),l()(t,"Cycle",{expireduration:"",lifeduration:"",liferemaining:"",unitofaccount:"",id:""}),l()(t,"packageidarr",[]),l()(t,"packageid",[]),l()(t,"Logistic",{packageids:"",packageid:[],unitid:"",unit:"",packagenumber:"",supplyform:"",batchtrace:"",sntrace:"",stockmin:"",stockmax:"",stocktypeid:"",logisticinplant:"",id:""}),l()(t,"stocklength",[]),l()(t,"Stock",{manufacturer:"",manufactureridentification:"",agent:"",agentidentification:"",manufacturerpartnumber:"",orderingperiod:"",minpurchasenumber:"",priceincludematerial:"",currentprice:"",lta:"",volumeprice:"",volumeprice2:"",volumeprice3:"",id:""}),l()(t,"Stock2",{manufacturer:"",manufactureridentification:"",agent:"",agentidentification:"",manufacturerpartnumber:"",orderingperiod:"",minpurchasenumber:"",priceincludematerial:"",currentprice:"",lta:"",volumeprice:"",volumeprice2:"",volumeprice3:"",id:""}),l()(t,"Stock3",{manufacturer:"",manufactureridentification:"",agent:"",agentidentification:"",manufacturerpartnumber:"",orderingperiod:"",minpurchasenumber:"",priceincludematerial:"",currentprice:"",lta:"",volumeprice:"",volumeprice2:"",volumeprice3:"",id:""}),l()(t,"form",{name:"",region:"",date1:"",date2:"",delivery:!1,type:[],resource:"",desc:""}),l()(t,"tianjiawenjian",""),t},mounted:function(){this.getdata(),this.tuwendangan(),this.PagingJump()},methods:{handleChange:function(t){var e=this,a=this.$refs.cascaderAddr.getCheckedNodes()[0].value;isNaN(a)?(this.erpnum=a,this.BaseMaterialVisible=!0):(this.catalog=a,this.DocumentList=!0,this.$http.get("plm_file/select/menu/doc.do/"+this.catalog).then(function(t){var a=t.data.data;200==t.data.code&&(e.gridData=a.documents,e.title=a.menuname)}))},openPublicDocuments:function(){this.PublicDocuments=!0},closePublicDocuments:function(){this.PublicDocuments=!1,this.uploadfile={}},Collection:function(t){var e=this;console.log(t),this.tianjiawenjian=t,this.fileeditionid=this.tianjiawenjian.versions[0].versionid,this.fileid=this.tianjiawenjian.versions[0].docid,this.CollectionVisible=!0,this.$http.get("plm_file/select/myKeep.do").then(function(t){e.Collectionlistarr=t.data.data})},newlyBuildCollection:function(){var t=this;if(""==this.Favorite.keepname)this.$message({message:"请输入收藏夹名称",type:"success"});else{var e=new URLSearchParams;e.append("keepname",this.Favorite.keepname),this.$http.post("plm_file/creat/docKeep.do",e).then(function(e){console.log(e),t.Collectionlistarr=e.data.data})}},getflie:function(t){this.keepid=t.keepid,this.Collectionfile=t.documents,this.Showfavorites=!1},DownloadCollectionfile:function(t){window.open("http://139.129.92.198:8088/plm_file/download/doc.do/"+t.version.versionid)},Cancelcollection:function(t,e,a){var i=this;console.log(t);var l=new URLSearchParams;l.append("keepid",this.keepid),l.append("docid",t.version.docid),this.$http.post("plm_file/cancel/doc/keep.do",l).then(function(t){console.log(t),"ok"==t.data.msg?(a.splice(e,1),i.$message({message:"已取消收藏",type:"success"})):i.$message({message:"取消失败",type:"warning"})})},previewCollectionfile:function(t){console.log(t),window.open("http://ow365.cn/?i=22554&furl=http://139.129.92.198:8088"+t.version.docurl)},addfileFavorite:function(t,e){var a=this;console.log(e);var i=new URLSearchParams;i.append("keepid",t),i.append("docid",this.fileid),i.append("versonid",this.fileeditionid),this.$http.post("plm_file/set/docToKeep.do",i).then(function(t){console.log(t),500==t.data.code||"this is repeat"==t.data.msg?a.$message({message:"已收藏",type:"warning"}):(a.$http.get("plm_file/select/myKeep.do").then(function(t){a.Collectionlistarr=t.data.data}),a.$message({message:"收藏成功",type:"success"}))})},Downloadfile:function(t){window.open("http://192.168.43.3:8088/plm_file/download/doc.do/"+t.versions[0].versionid)},preview:function(t){window.open("http://ow365.cn/?i=22554&furl=http://139.129.92.198:8088"+t.versions[0].docurl)},Deletefile:function(t,e,a){var i=this;console.log(t);var l=new URLSearchParams;l.append("docid",t.documentid),this.$http.post("plm_file/del/doc.do",l).then(function(t){200==t.data.code?(a.splice(e,1),i.$message({message:"删除成功",type:"success"})):i.$message({message:"删除失败",type:"warning"})})},submitUpload:function(){var t=this;if(this.$refs.uploadRatio.uploadFiles.length>0){var e=new FormData;this.$refs.uploadRatio.uploadFiles.forEach(function(t){e.append("upfile",t.raw)}),e.append("docname",this.uploadfile.filename),e.append("docnum",this.uploadfile.filenum),e.append("vernum",this.uploadfile.edition),e.append("menuid",this.catalog),this.$http.post("plm_file/add/file.do",e).then(function(e){200===e.status?t.$message({message:"上传成功",type:"success"}):t.$message({message:"上传失败",type:"warning"})})}},newmaterial:function(){this.dialogFormVisible=!0,this.BaseMaterialVisible=!1},resetForm:function(){this.dialogFormVisible=!1,this.BaseMaterial={},this.Layout={},this.Crafts={},this.Cycle={},this.Logistic={},this.Stock={},this.Stock2={},this.Stock3={},this.stock2=[],this.BaseMaterial1="",this.Layout1="",this.Crafts1="",this.Cycle1="",this.Logistic1="",this.Stocks1="",this.Stocks2="",this.Stocks3="",this.stocklength=[]},onSubmit:function(){},getdata:function(){var t=this;this.$http.get("plm/select/logisticMsg.do").then(function(e){if(200==e.status){for(var a=0;a<e.data.data.unit.length;a++)t.unit.push({name:e.data.data.unit[a]});for(a=0;a<e.data.data.warerooms.length;a++)t.stocktypeid.push({name:e.data.data.warerooms[a].wareroomcode+" "+e.data.data.warerooms[a].wareroomname,id:e.data.data.warerooms[a].wareroomid});e.data.data.packages.forEach(function(e){var a=[];e.packages.forEach(function(t){a.push({value:t.packageid,label:t.packagename})}),t.packageidarr.push({value:e.packageid,label:e.packagename,children:a})})}}),this.$http.get("plm/select/baseMsg.do").then(function(e){var a=e.data.data;if(200==e.status){for(var i=0;i<e.data.data.clazz.length;i++)t.clazzs.push({name:e.data.data.clazz[i]});for(i=0;i<e.data.data.subClazz.length;i++)t.subclass.push({name:e.data.data.subClazz[i]});for(i=0;i<e.data.data.group.length;i++)t.group.push({name:e.data.data.group[i].groupnum+e.data.data.group[i].groupname,id:e.data.data.group[i].groupid});for(i=0;i<a.type.length;i++)t.typeids.push({name:a.type[i].typename,id:a.type[i].typeid});for(var l in a.M)t.shengchanwuliao.push({value:l,label:a.M[l]});for(var s in a.P)t.chanpinwuliao.push({value:s,label:a.P[s]});t.options[0].children[0].children[0].children[0].children=t.shengchanwuliao,t.options[0].children[0].children[0].children[1].children=t.chanpinwuliao}})},tuwendangan:function(){var t=this;this.$http.get("plm_file/select/msg.do").then(function(e){var a=e.data.data;200==e.data.code&&(a.menu.forEach(function(e){t.GraphicFiles.push({value:e.menuid,label:e.menuname})}),t.options[0].children[1].children=t.GraphicFiles)})},PagingJump:function(){var t=this,e=new URLSearchParams;e.append("offset",this.pageInfo.currentPage),e.append("page",this.pageInfo.pageSize),this.$http.post("plm/select/allBase.do",e).then(function(e){0!=e.data.length&&void 0!=e.data&&(t.tableData=e.data.data.base,t.pageInfo.total=e.data.data.count?Number(e.data.data.count):0)})},handleSizeChange:function(t){this.pageInfo.pageSize=t,this.PagingJump()},handleCurrentChange:function(t){this.pageInfo.currentPage=t,this.PagingJump()},addbaseMaterial:function(){var t=this;this.$refs.BaseMaterial.validate(function(e){if(!e)return!1;var a=new URLSearchParams;t.BaseMaterial.namecn&&a.append("namecn",t.BaseMaterial.namecn),t.BaseMaterial.nameen&&a.append("nameen",t.BaseMaterial.nameen),t.BaseMaterial.nameshort&&a.append("nameshort",t.BaseMaterial.nameshort),t.BaseMaterial.customerpn&&a.append("customerpn",t.BaseMaterial.customerpn),t.BaseMaterial.version&&a.append("version",t.BaseMaterial.version),t.BaseMaterial.clazz&&a.append("clazz",t.BaseMaterial.clazz),t.BaseMaterial.subclass&&a.append("subclass",t.BaseMaterial.subclass),t.BaseMaterial.costgroupid&&a.append("costgroupid",t.BaseMaterial.costgroupid),t.BaseMaterial.mainmaterial&&a.append("mainmaterial",t.BaseMaterial.mainmaterial),t.BaseMaterial.standard&&a.append("standard",t.BaseMaterial.standard),t.BaseMaterial.description&&a.append("description",t.BaseMaterial.description),t.BaseMaterial.typeid&&a.append("typeid",t.BaseMaterial.typeid),t.BaseMaterial.remark&&a.append("remark",t.BaseMaterial.remark),a.append("prefix",t.erpnum),t.$http.post("/plm/add/baseMaterial.do",a).then(function(e){console.log(e.data.data),200==e.status&&(t.$message({message:"提交成功",type:"success"}),t.BaseMaterial.erpnum=e.data.data.erpnum,t.BaseMaterial.id=e.data.data.baseid)})})},addLayout:function(){var t=this,e=new URLSearchParams;this.Layout.automotive&&e.append("automotive",this.Layout.automotive),this.Layout.totalpins&&e.append("totalpins",this.Layout.totalpins),this.Layout.specialcharacteristics&&e.append("specialcharacteristics",this.Layout.specialcharacteristics),this.Layout.color&&e.append("color",this.Layout.color),this.Layout.value&&e.append("value",this.Layout.value),this.Layout.tolerance&&e.append("tolerance",this.Layout.tolerance),this.Layout.temperature&&e.append("temperature",this.Layout.temperature),this.Layout.voltagerange&&e.append("voltagerange",this.Layout.voltagerange),this.Layout.currentrange&&e.append("currentrange",this.Layout.currentrange),this.Layout.powerrange&&e.append("powerrange",this.Layout.powerrange),this.Layout.weight_g&&e.append("weightG",this.Layout.weight_g),this.Layout.esd&&e.append("esd",this.Layout.esd),this.Layout.fit&&e.append("fit",this.Layout.fit),this.Layout.footprint&&e.append("footprint",this.Layout.footprint),this.BaseMaterial.id&&e.append("materialID",this.BaseMaterial.id),this.$http.post("plm/adds/layout.do",e).then(function(e){200==e.status&&t.$message({message:"提交成功",type:"success"})})},addprocess:function(){var t=this,e=new URLSearchParams;this.Crafts.reflowcycles&&e.append("reflowcycles",this.Crafts.reflowcycles),this.Crafts.environment&&e.append("environment",this.Crafts.environment),this.BaseMaterial.id&&e.append("materialID",this.BaseMaterial.id),this.$http.post("plm/adds/crafts.do",e).then(function(e){200==e.status&&t.$message({message:"提交成功",type:"success"})})},addcycle:function(){var t=this,e=new URLSearchParams;this.Cycle.expireduration&&e.append("expireduration",this.Cycle.expireduration),this.Cycle.lifeduration&&e.append("lifeduration",this.Cycle.lifeduration),this.Cycle.liferemaining&&e.append("liferemaining",this.Cycle.liferemaining),this.Cycle.unitofaccount&&e.append("unitofaccount",this.Cycle.unitofaccount),this.BaseMaterial.id&&e.append("materialID",this.BaseMaterial.id),this.$http.post("plm/adds/cycle.do",e).then(function(e){200==e.status&&t.$message({message:"提交成功",type:"success"})})},changeunit:function(t){this.Logistic.unitid=t},handleChange2:function(t){this.Logistic.packageids=t[1]},addlogistics:function(){var t=this,e=new URLSearchParams;this.Logistic.packageids&&e.append("packageid",this.Logistic.packageids),this.Logistic.unitid&&e.append("unit",this.Logistic.unitid),this.Logistic.packagenumber&&e.append("packagenumber",this.Logistic.packagenumber),this.Logistic.supplyform&&e.append("supplyform",this.Logistic.supplyform),this.Logistic.batchtrace&&e.append("batchtrace",this.Logistic.batchtrace),this.Logistic.sntrace&&e.append("sntrace",this.Logistic.sntrace),this.Logistic.stockmin&&e.append("stockmin",this.Logistic.stockmin),this.Logistic.stockmax&&e.append("stockmax",this.Logistic.stockmax),this.Logistic.stocktypeid&&e.append("stocktypeid",this.Logistic.stocktypeid),this.Logistic.logisticinplant&&e.append("logisticinplant",this.Logistic.logisticinplant),this.BaseMaterial.id&&e.append("materialID",this.BaseMaterial.id),this.$http.post("plm/adds/logistic.do",e).then(function(e){200==e.status&&t.$message({message:"提交成功",type:"success"})})},addprocurement:function(){var t=this;"是"==this.Stock.priceincludematerial||this.Stock.priceincludematerial?this.Stock.priceincludematerial="true":"否"==this.Stock.priceincludematerial||this.Stock.priceincludematerial?this.Stock.priceincludematerial="false":this.Stock.priceincludematerial=this.Stock.priceincludematerial;var e=this.Stock.volumeprice+"/"+this.Stock.volumeprice2+"/"+this.Stock.volumeprice3,a=new URLSearchParams;this.Stock.manufacturer&&a.append("manufacturer",this.Stock.manufacturer),this.Stock.manufactureridentification&&a.append("manufactureridentification",this.Stock.manufactureridentification),this.Stock.agent&&a.append("agent",this.Stock.agent),this.Stock.agentidentification&&a.append("agentidentification",this.Stock.agentidentification),this.Stock.manufacturerpartnumber&&a.append("manufacturerpartnumber",this.Stock.manufacturerpartnumber),this.Stock.orderingperiod&&a.append("orderingperiod",this.Stock.orderingperiod),this.Stock.minpurchasenumber&&a.append("minpurchasenumber",this.Stock.minpurchasenumber),this.Stock.priceincludematerial&&a.append("priceincludematerial",this.Stock.priceincludematerial),this.Stock.currentprice&&a.append("currentprice",this.Stock.currentprice),this.Stock.lta&&a.append("lta",this.Stock.lta),e&&a.append("volumeprice",e),this.BaseMaterial.id&&a.append("materialID",this.BaseMaterial.id),this.$http.post("plm/adds/stock.do",a).then(function(e){200==e.status&&t.$message({message:"提交成功",type:"success"})})},open:function(){var t=this;this.$confirm("是否继续添加?","提示",{confirmButtonText:"确定提交",cancelButtonText:"关闭",type:"warning"}).then(function(){t.addprocurement(),t.Stock={}}).catch(function(){})},deleteRow:function(t,e,a){var i=this;e.splice(t,1);var l=new URLSearchParams;l.append("materailid",a.baseid),l.append("delMsg",""),this.$http.post("plm/del/material.do",l).then(function(t){200===t.status?(i.PagingJump(),i.$message({message:"删除成功",type:"success"})):i.$message({message:"删除失败",type:"warning"})})},handleClicks:function(t){var e=this;console.log(t),this.dialogFormVisible=!0;var a=new URLSearchParams;a.append("materailid",t.baseid),this.$http.post("plm/get/all.do",a).then(function(t){console.log(t);var a=t.data.data;if(200==t.status){if(a){var i="";i=a.standard||1==a.standard?"是":"否",e.BaseMaterial1=a,e.BaseMaterial={namecn:a.namecn,nameen:a.nameen,nameshort:a.nameshort,customerpn:a.customerpn,version:a.version,clazz:a.clazzI,subclass:a.subclassI,costgroupid:a.groupI,mainmaterial:a.mainmaterial,standard:i,description:a.description,typeid:a.typeI,erpnum:a.erpnum,remark:a.remark,id:a.baseid}}if((null!=a.layout||a.layout)&&(e.Layout1=a.layout,e.Layout={automotive:a.layout.automotive,totalpins:a.layout.totalpins,specialcharacteristics:a.layout.specialcharacteristics,color:a.layout.color,value:a.layout.value,tolerance:a.layout.tolerance,temperature:a.layout.temperature,voltagerange:a.layout.voltagerange,currentrange:a.layout.currentrange,powerrange:a.layout.powerrange,weight_g:a.layout.weightG,esd:a.layout.esd,fit:a.layout.fit,footprint:a.layout.footprint,id:a.layout.layoutid}),(a.crafts||null!=a.crafts)&&(e.Crafts1=a.crafts,e.Crafts={reflowcycles:a.crafts.reflowcycles,environment:a.crafts.environment,id:a.crafts.craftsid}),(a.cycle||null!=a.cycle)&&(e.Cycle1=a.cycle,e.Cycle={expireduration:a.cycle.expireduration,lifeduration:a.cycle.lifeduration,liferemaining:a.cycle.liferemaining,unitofaccount:a.cycle.unitofaccount,id:a.cycle.cycleid}),a.logistic||null!=a.logistic){e.Logistic1=a.logistic;var l="",s="";l=1==a.logistic.batchtrace?"是":"否",s=1==a.logistic.sntrace?"是":"否",e.Logistic={packageids:a.logistic.basePackage.packageid,packageid:a.logistic.basePackage.packagename,unitid:a.logistic.unit,unit:a.logistic.unitI,packagenumber:a.logistic.packagenumber,supplyform:a.logistic.supplyform,batchtrace:l,sntrace:s,stockmin:a.logistic.stockmin,stockmax:a.logistic.stockmax,stocktypeid:a.logistic.stocktypeid,logisticinplant:a.logistic.logisticinplant,id:a.logistic.logisticid}}if(a.stocks.length>0){if(e.stocklength=a.stocks,e.Stocks1=a.stocks[0],a.stocks.length>=1){e.Stock=a.stocks[0];var n,o="";o=1==a.stocks[0].priceincludematerial?"是":"否",n=a.stocks[0].volumeprice.split("/"),e.Stock={manufacturer:a.stocks[0].manufacturer,manufactureridentification:a.stocks[0].manufactureridentification,agent:a.stocks[0].agent,agentidentification:a.stocks[0].agentidentification,manufacturerpartnumber:a.stocks[0].manufacturerpartnumber,orderingperiod:a.stocks[0].orderingperiod,minpurchasenumber:a.stocks[0].minpurchasenumber,priceincludematerial:o,currentprice:a.stocks[0].currentprice,lta:a.stocks[0].lta,volumeprice:n[0],volumeprice2:n[1],volumeprice3:n[2],id:a.stocks[0].stockid}}if(a.stocks.length>=2){e.Stocks2=a.stocks[1];var r,c="";c=1==a.stocks[1].priceincludematerial?"是":"否",r=a.stocks[1].volumeprice.split("/"),e.Stock2={manufacturer:a.stocks[1].manufacturer,manufactureridentification:a.stocks[1].manufactureridentification,agent:a.stocks[1].agent,agentidentification:a.stocks[1].agentidentification,manufacturerpartnumber:a.stocks[1].manufacturerpartnumber,orderingperiod:a.stocks[1].orderingperiod,minpurchasenumber:a.stocks[1].minpurchasenumber,priceincludematerial:c,currentprice:a.stocks[1].currentprice,lta:a.stocks[1].lta,volumeprice:r[0],volumeprice2:r[1],volumeprice3:r[2],id:a.stocks[1].stockid}}if(a.stocks.length>=3){e.Stocks3=a.stocks[2];var u,p="";p=1==a.stocks[2].priceincludematerial?"是":"否",u=a.stocks[2].volumeprice.split("/"),e.Stock3={manufacturer:a.stocks[2].manufacturer,manufactureridentification:a.stocks[2].manufactureridentification,agent:a.stocks[2].agent,agentidentification:a.stocks[2].agentidentification,manufacturerpartnumber:a.stocks[2].manufacturerpartnumber,orderingperiod:a.stocks[2].orderingperiod,minpurchasenumber:a.stocks[2].minpurchasenumber,priceincludematerial:p,currentprice:a.stocks[2].currentprice,lta:a.stocks[2].lta,volumeprice:u[0],volumeprice2:u[1],volumeprice3:u[2],id:a.stocks[2].stockid}}}}}),this.$http.post("plm/get/note.do",a).then(function(t){})},ModifyLayout:function(){var t=this,e=new URLSearchParams;this.Layout.automotive&&e.append("automotive",this.Layout.automotive),this.Layout.totalpins&&e.append("totalpins",this.Layout.totalpins),this.Layout.specialcharacteristics&&e.append("specialcharacteristics",this.Layout.specialcharacteristics),this.Layout.color&&e.append("color",this.Layout.color),this.Layout.value&&e.append("value",this.Layout.value),this.Layout.tolerance&&e.append("tolerance",this.Layout.tolerance),this.Layout.temperature&&e.append("temperature",this.Layout.temperature),this.Layout.voltagerange&&e.append("voltagerange",this.Layout.voltagerange),this.Layout.currentrange&&e.append("currentrange",this.Layout.currentrange),this.Layout.powerrange&&e.append("powerrange",this.Layout.powerrange),this.Layout.weight_g&&e.append("weightG",this.Layout.weight_g),this.Layout.esd&&e.append("esd",this.Layout.esd),this.Layout.fit&&e.append("fit",this.Layout.fit),this.Layout.footprint&&e.append("footprint",this.Layout.footprint),this.BaseMaterial.id&&e.append("baseid",this.BaseMaterial.id),this.Layout.id&&e.append("layoutid",this.Layout.id),this.$http.post("plm/set/layout.do",e).then(function(e){200==e.status?t.$message({message:"修改成功",type:"success"}):t.$message({message:"修改失败",type:"warning"})})},Modifyprocess:function(){var t=this,e=new URLSearchParams;this.Crafts.reflowcycles&&e.append("reflowcycles",this.Crafts.reflowcycles),this.Crafts.environment&&e.append("environment",this.Crafts.environment),this.BaseMaterial.id&&e.append("baseid",this.BaseMaterial.id),this.Crafts.id&&e.append("craftsid",this.Crafts.id),this.$http.post("plm/set/crafts.do",e).then(function(e){200==e.status&&t.$message({message:"提交成功",type:"success"})})},Modifycycle:function(){var t=this,e=new URLSearchParams;this.Cycle.expireduration&&e.append("expireduration",this.Cycle.expireduration),this.Cycle.lifeduration&&e.append("lifeduration",this.Cycle.lifeduration),this.Cycle.liferemaining&&e.append("liferemaining",this.Cycle.liferemaining),this.Cycle.unitofaccount&&e.append("unitofaccount",this.Cycle.unitofaccount),this.BaseMaterial.id&&e.append("baseid",this.BaseMaterial.id),this.Cycle.id&&e.append("cycleid",this.Cycle.id),this.$http.post("plm/set/cycle.do",e).then(function(e){200==e.status&&t.$message({message:"提交成功",type:"success"})})},Modifylogistics:function(){var t=this;"是"==this.Logistic.batchtrace||this.Logistic.batchtrace?this.Logistic.batchtrace="true":"否"==this.Logistic.batchtrace||this.Logistic.batchtrace?this.Logistic.batchtrace="false":this.Logistic.batchtrace=this.Logistic.batchtrace,"是"==this.Logistic.sntrace||this.Logistic.sntrace?this.Logistic.sntrace="true":"否"==this.Logistic.sntrace||this.Logistic.sntrace?this.Logistic.sntrace="false":this.Logistic.sntrace=this.Logistic.sntrace;var e=new URLSearchParams;this.Logistic.packageids&&e.append("packageid",this.Logistic.packageids),this.Logistic.unitid&&e.append("unit",this.Logistic.unitid),this.Logistic.packagenumber&&e.append("packagenumber",this.Logistic.packagenumber),this.Logistic.supplyform&&e.append("supplyform",this.Logistic.supplyform),this.Logistic.batchtrace&&e.append("batchtrace",this.Logistic.batchtrace),this.Logistic.sntrace&&e.append("sntrace",this.Logistic.sntrace),this.Logistic.stockmin&&e.append("stockmin",this.Logistic.stockmin),this.Logistic.stockmax&&e.append("stockmax",this.Logistic.stockmax),this.Logistic.stocktypeid&&e.append("stocktypeid",this.Logistic.stocktypeid),this.Logistic.logisticinplant&&e.append("logisticinplant",this.Logistic.logisticinplant),this.BaseMaterial.id&&e.append("baseid",this.BaseMaterial.id),this.Logistic.id&&e.append("logisticid",this.Logistic.id),this.$http.post("plm/set/logistic.do",e).then(function(e){200==e.status&&t.$message({message:"提交成功",type:"success"})})},Modifystock1:function(){var t=this;"是"==this.Stock.priceincludematerial||this.Stock.priceincludematerial?this.Stock.priceincludematerial="true":"否"==this.Stock.priceincludematerial||this.Stock.priceincludematerial?this.Stock.priceincludematerial="false":this.Stock.priceincludematerial=this.Stock.priceincludematerial;var e=this.Stock.volumeprice+"/"+this.Stock.volumeprice2+"/"+this.Stock.volumeprice3,a=new URLSearchParams;this.Stock.manufacturer&&a.append("manufacturer",this.Stock.manufacturer),this.Stock.manufactureridentification&&a.append("manufactureridentification",this.Stock.manufactureridentification),this.Stock.agent&&a.append("agent",this.Stock.agent),this.Stock.agentidentification&&a.append("agentidentification",this.Stock.agentidentification),this.Stock.manufacturerpartnumber&&a.append("manufacturerpartnumber",this.Stock.manufacturerpartnumber),this.Stock.orderingperiod&&a.append("orderingperiod",this.Stock.orderingperiod),this.Stock.minpurchasenumber&&a.append("minpurchasenumber",this.Stock.minpurchasenumber),this.Stock.priceincludematerial&&a.append("priceincludematerial",this.Stock.priceincludematerial),this.Stock.currentprice&&a.append("currentprice",this.Stock.currentprice),this.Stock.lta&&a.append("lta",this.Stock.lta),e&&a.append("volumeprice",e),this.BaseMaterial.id&&a.append("baseid",this.BaseMaterial.id),this.Stock.id&&a.append("stockid",this.Stock.id),this.$http.post("plm/set/stock.do",a).then(function(e){200==e.status&&t.$message({message:"修改成功",type:"success"})})},Modifystock2:function(){var t=this;"是"==this.Stock2.priceincludematerial||this.Stock2.priceincludematerial?this.Stock2.priceincludematerial="true":"否"==this.Stock2.priceincludematerial||this.Stock2.priceincludematerial?this.Stock2.priceincludematerial="false":this.Stock2.priceincludematerial=this.Stock2.priceincludematerial;var e=this.Stock2.volumeprice+"/"+this.Stock2.volumeprice2+"/"+this.Stock2.volumeprice3,a=new URLSearchParams;this.Stock2.manufacturer&&a.append("manufacturer",this.Stock2.manufacturer),this.Stock2.manufactureridentification&&a.append("manufactureridentification",this.Stock2.manufactureridentification),this.Stock2.agent&&a.append("agent",this.Stock2.agent),this.Stock2.agentidentification&&a.append("agentidentification",this.Stock2.agentidentification),this.Stock2.manufacturerpartnumber&&a.append("manufacturerpartnumber",this.Stock2.manufacturerpartnumber),this.Stock2.orderingperiod&&a.append("orderingperiod",this.Stock2.orderingperiod),this.Stock2.minpurchasenumber&&a.append("minpurchasenumber",this.Stock2.minpurchasenumber),this.Stock2.priceincludematerial&&a.append("priceincludematerial",this.Stock2.priceincludematerial),this.Stock2.currentprice&&a.append("currentprice",this.Stock2.currentprice),this.Stock2.lta&&a.append("lta",this.Stock2.lta),e&&a.append("volumeprice",e),this.BaseMaterial.id&&a.append("baseid",this.BaseMaterial.id),this.Stock2.id&&a.append("stockid",this.Stock2.id),this.$http.post("plm/set/stock.do",a).then(function(e){200==e.status&&t.$message({message:"修改成功",type:"success"})})},Modifystock3:function(){var t=this;"是"==this.Stock3.priceincludematerial||this.Stock3.priceincludematerial?this.Stock3.priceincludematerial="true":"否"==this.Stock3.priceincludematerial||this.Stock3.priceincludematerial?this.Stock3.priceincludematerial="false":this.Stock3.priceincludematerial=this.Stock3.priceincludematerial;var e=this.Stock3.volumeprice+"/"+this.Stock3.volumeprice2+"/"+this.Stock3.volumeprice3,a=new URLSearchParams;this.Stock3.manufacturer&&a.append("manufacturer",this.Stock3.manufacturer),this.Stock3.manufactureridentification&&a.append("manufactureridentification",this.Stock3.manufactureridentification),this.Stock3.agent&&a.append("agent",this.Stock3.agent),this.Stock3.agentidentification&&a.append("agentidentification",this.Stock3.agentidentification),this.Stock3.manufacturerpartnumber&&a.append("manufacturerpartnumber",this.Stock3.manufacturerpartnumber),this.Stock3.orderingperiod&&a.append("orderingperiod",this.Stock3.orderingperiod),this.Stock3.minpurchasenumber&&a.append("minpurchasenumber",this.Stock3.minpurchasenumber),this.Stock3.priceincludematerial&&a.append("priceincludematerial",this.Stock3.priceincludematerial),this.Stock3.currentprice&&a.append("currentprice",this.Stock3.currentprice),this.Stock3.lta&&a.append("lta",this.Stock3.lta),e&&a.append("volumeprice",e),this.BaseMaterial.id&&a.append("baseid",this.BaseMaterial.id),this.Stock3.id&&a.append("stockid",this.Stock3.id),this.$http.post("plm/set/stock.do",a).then(function(e){200==e.status&&t.$message({message:"修改成功",type:"success"})})},close:function(){this.BaseMaterial={},this.Layout={},this.Crafts={},this.Cycle={},this.Logistic={},this.Stock={},this.Stock2={},this.Stock3={},this.stock2=[],this.BaseMaterial1="",this.Layout1="",this.Crafts1="",this.Cycle1="",this.Logistic1="",this.Stocks1="",this.Stocks2="",this.Stocks3="",this.stocklength=[]}}}),u={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"MaterialManagement"},[i("span",{staticClass:"demonstration"},[t._v("选择：")]),t._v(" "),i("el-cascader",{ref:"cascaderAddr",attrs:{clearable:!0,placeholder:"搜索",filterable:"","show-all-levels":!1,options:t.options,props:{expandTrigger:"hover"}},on:{change:t.handleChange},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}}),t._v(" "),i("associated"),t._v(" "),i("el-dialog",{attrs:{title:"物料列表",center:"",visible:t.BaseMaterialVisible,width:"80%"},on:{close:t.close,"update:visible":function(e){t.BaseMaterialVisible=e}}},[i("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData}},[i("el-table-column",{attrs:{prop:"erpnum",label:"ERP编号",width:"120"}}),t._v(" "),i("el-table-column",{attrs:{prop:"namecn",label:"物料名称-（中文）",width:"180"}}),t._v(" "),i("el-table-column",{attrs:{prop:"nameen",label:"物料名称-（英文）",width:"300"}}),t._v(" "),i("el-table-column",{attrs:{prop:"nameshort",label:"物料名称-（简称）",width:"300"}}),t._v(" "),i("el-table-column",{attrs:{prop:"clazzI",label:"物料小类",width:"300"}}),t._v(" "),i("el-table-column",{attrs:{prop:"customerpn",label:"客户零件号",width:"300"}}),t._v(" "),i("el-table-column",{attrs:{label:"删除",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-button",{attrs:{type:"text",size:"small"},nativeOn:{click:function(a){a.preventDefault(),t.deleteRow(e.$index,t.tableData,e.row)}}},[t._v("移除")])]}}])}),t._v(" "),i("el-table-column",{attrs:{label:"查看/修改",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){t.handleClicks(e.row)}}},[t._v("查看/修改")])]}}])})],1),t._v(" "),i("div",{staticClass:"block"},[i("el-pagination",{attrs:{"current-page":t.pageInfo.currentPage,"page-size":t.pageInfo.pageSize,layout:"total, prev, pager, next",total:t.pageInfo.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange,"update:currentPage":function(e){t.$set(t.pageInfo,"currentPage",e)}}})],1),t._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:function(e){t.newmaterial()}}},[t._v("新建物料单")])],1),t._v(" "),i("el-dialog",{attrs:{title:"新增数据—物料",center:"",visible:t.dialogFormVisible,width:"60%"},on:{close:t.close,"update:visible":function(e){t.dialogFormVisible=e}}},[i("el-form",{ref:"form",attrs:{model:t.form,"label-width":"120px"}},[i("el-collapse",{attrs:{"v-model":t.form}},[i("el-collapse-item",{attrs:{title:"基本属性",name:"1"}},[i("el-form",{ref:"BaseMaterial",attrs:{model:t.BaseMaterial,"label-width":"120px","hide-required-asterisk":!0,rules:t.BaseMaterialrules}},[i("el-row",[i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:"物料名称(中文):",prop:"namecn"}},[i("el-input",{model:{value:t.BaseMaterial.namecn,callback:function(e){t.$set(t.BaseMaterial,"namecn",e)},expression:"BaseMaterial.namecn"}})],1)],1),t._v(" "),i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:"物料名称(英文):"}},[i("el-input",{model:{value:t.BaseMaterial.nameen,callback:function(e){t.$set(t.BaseMaterial,"nameen",e)},expression:"BaseMaterial.nameen"}})],1)],1),t._v(" "),i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:"物料级别:"}},[i("el-select",{attrs:{placeholder:"请选择物料级别"},model:{value:t.BaseMaterial.subclass,callback:function(e){t.$set(t.BaseMaterial,"subclass",e)},expression:"BaseMaterial.subclass"}},t._l(t.subclass,function(t,e){return i("el-option",{key:e,attrs:{label:t.name,value:e}})}),1)],1)],1)],1),t._v(" "),i("el-row",[i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:"物料名称(简称):"}},[i("el-input",{model:{value:t.BaseMaterial.nameshort,callback:function(e){t.$set(t.BaseMaterial,"nameshort",e)},expression:"BaseMaterial.nameshort"}})],1)],1),t._v(" "),i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:"物料组:",prop:"costgroupid"}},[i("el-select",{attrs:{placeholder:"请选择物料组"},model:{value:t.BaseMaterial.costgroupid,callback:function(e){t.$set(t.BaseMaterial,"costgroupid",e)},expression:"BaseMaterial.costgroupid"}},t._l(t.group,function(t){return i("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})}),1)],1)],1),t._v(" "),i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:"物料版本:"}},[i("el-input",{model:{value:t.BaseMaterial.version,callback:function(e){t.$set(t.BaseMaterial,"version",e)},expression:"BaseMaterial.version"}})],1)],1)],1),t._v(" "),i("el-row",[i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:"主体材料:"}},[i("el-input",{model:{value:t.BaseMaterial.mainmaterial,callback:function(e){t.$set(t.BaseMaterial,"mainmaterial",e)},expression:"BaseMaterial.mainmaterial"}})],1)],1),t._v(" "),i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:"是否标准件:"}},[i("el-select",{model:{value:t.BaseMaterial.standard,callback:function(e){t.$set(t.BaseMaterial,"standard",e)},expression:"BaseMaterial.standard"}},[i("el-option",{attrs:{label:"是",value:"true"}}),t._v(" "),i("el-option",{attrs:{label:"否",value:"false"}})],1)],1)],1),t._v(" "),i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:"ERP编码:"}},[i("el-input",{attrs:{disabled:""},model:{value:t.BaseMaterial.erpnum,callback:function(e){t.$set(t.BaseMaterial,"erpnum",e)},expression:"BaseMaterial.erpnum"}})],1)],1)],1),t._v(" "),i("el-row",[i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:"物料描述:"}},[i("el-input",{attrs:{type:"textarea",autosize:{minRows:2,maxRows:4},maxlength:"255","show-word-limit":""},model:{value:t.BaseMaterial.description,callback:function(e){t.$set(t.BaseMaterial,"description",e)},expression:"BaseMaterial.description"}})],1)],1),t._v(" "),i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:"物料小类:"}},[i("el-select",{attrs:{placeholder:"请选择"},model:{value:t.BaseMaterial.clazz,callback:function(e){t.$set(t.BaseMaterial,"clazz",e)},expression:"BaseMaterial.clazz"}},t._l(t.clazzs,function(t,e){return i("el-option",{key:e,attrs:{label:t.name,value:e}})}),1)],1)],1),t._v(" "),i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:"客户零件号:",prop:"customerpn"}},[i("el-input",{attrs:{type:"customerpn",autocomplete:"off"},model:{value:t.BaseMaterial.customerpn,callback:function(e){t.$set(t.BaseMaterial,"customerpn",t._n(e))},expression:"BaseMaterial.customerpn"}})],1)],1)],1),t._v(" "),i("el-row",[i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:"所属产品线"}},[i("el-select",{attrs:{placeholder:"请选择"},model:{value:t.BaseMaterial.typeid,callback:function(e){t.$set(t.BaseMaterial,"typeid",e)},expression:"BaseMaterial.typeid"}},t._l(t.typeids,function(t,e){return i("el-option",{key:e,attrs:{label:t.name,value:t.id}})}),1)],1)],1),t._v(" "),i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:"备注"}},[i("el-input",{attrs:{type:"textarea",autosize:{minRows:2,maxRows:4},maxlength:"255","show-word-limit":""},model:{value:t.BaseMaterial.remark,callback:function(e){t.$set(t.BaseMaterial,"remark",e)},expression:"BaseMaterial.remark"}})],1)],1)],1),t._v(" "),i("el-form-item",[i("el-button",{attrs:{type:"primary"},on:{click:function(e){t.addbaseMaterial()}}},[t._v("提交基础信息")])],1)],1)],1),t._v(" "),i("el-collapse-item",{attrs:{title:"设计属性",name:"3"}},[i("el-form",{ref:"Layout",attrs:{model:t.Layout,"label-width":"120px"}},[i("el-row",[i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:"汽车相关技术认证(如AEC）"}},[i("el-input",{model:{value:t.Layout.automotive,callback:function(e){t.$set(t.Layout,"automotive",e)},expression:"Layout.automotive"}})],1)],1),t._v(" "),i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:"PIN脚数量",prop:"totalpins",rules:[{required:!0,type:"number",message:"PIN脚数量必填且须为数字"}]}},[i("el-input",{model:{value:t.Layout.totalpins,callback:function(e){t.$set(t.Layout,"totalpins",t._n(e))},expression:"Layout.totalpins"}})],1)],1),t._v(" "),i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:"特殊特性"}},[i("el-input",{model:{value:t.Layout.specialcharacteristics,callback:function(e){t.$set(t.Layout,"specialcharacteristics",e)},expression:"Layout.specialcharacteristics"}})],1)],1)],1),t._v(" "),i("el-row",[i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:"颜色"}},[i("el-input",{model:{value:t.Layout.color,callback:function(e){t.$set(t.Layout,"color",e)},expression:"Layout.color"}})],1)],1),t._v(" "),i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:"参数值"}},[i("el-input",{model:{value:t.Layout.value,callback:function(e){t.$set(t.Layout,"value",e)},expression:"Layout.value"}})],1)],1),t._v(" "),i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:"容差"}},[i("el-input",{model:{value:t.Layout.tolerance,callback:function(e){t.$set(t.Layout,"tolerance",e)},expression:"Layout.tolerance"}})],1)],1)],1),t._v(" "),i("el-row",[i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:"工作温度范围"}},[i("el-input",{model:{value:t.Layout.temperature,callback:function(e){t.$set(t.Layout,"temperature",e)},expression:"Layout.temperature"}})],1)],1),t._v(" "),i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:"工作电压范围"}},[i("el-input",{model:{value:t.Layout.voltagerange,callback:function(e){t.$set(t.Layout,"voltagerange",e)},expression:"Layout.voltagerange"}})],1)],1),t._v(" "),i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:"工作电流范围"}},[i("el-input",{model:{value:t.Layout.currentrange,callback:function(e){t.$set(t.Layout,"currentrange",e)},expression:"Layout.currentrange"}})],1)],1)],1),t._v(" "),i("el-row",[i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:"功率范围"}},[i("el-input",{model:{value:t.Layout.powerrange,callback:function(e){t.$set(t.Layout,"powerrange",e)},expression:"Layout.powerrange"}})],1)],1),t._v(" "),i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:"物料重量（g）"}},[i("el-input",{model:{value:t.Layout.weight_g,callback:function(e){t.$set(t.Layout,"weight_g",e)},expression:"Layout.weight_g"}})],1)],1),t._v(" "),i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:"抗静电等级"}},[i("el-input",{model:{value:t.Layout.esd,callback:function(e){t.$set(t.Layout,"esd",e)},expression:"Layout.esd"}})],1)],1)],1),t._v(" "),i("el-row",[i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:"失效率"}},[i("el-input",{model:{value:t.Layout.fit,callback:function(e){t.$set(t.Layout,"fit",e)},expression:"Layout.fit"}})],1)],1),t._v(" "),i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:"PCB封装名称"}},[i("el-input",{model:{value:t.Layout.footprint,callback:function(e){t.$set(t.Layout,"footprint",e)},expression:"Layout.footprint"}})],1)],1)],1),t._v(" "),i("el-form-item",[""==t.Layout1?i("el-button",{attrs:{type:"primary"},on:{click:function(e){t.addLayout()}}},[t._v("提交设计属性")]):t._e(),t._v(" "),""!==t.Layout1?i("el-button",{attrs:{type:"primary"},on:{click:function(e){t.ModifyLayout()}}},[t._v("修改设计属性")]):t._e()],1)],1)],1),t._v(" "),i("el-collapse-item",{attrs:{title:"工艺属性/环保属性",name:"4"}},[i("el-form",{ref:"Crafts",attrs:{model:t.Crafts,"label-width":"120px"}},[i("el-row",[i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:"耐回流焊次数",prop:"reflowcycles",rules:[{type:"number",message:"耐回流焊次数必须为数字值"}]}},[i("el-input",{model:{value:t.Crafts.reflowcycles,callback:function(e){t.$set(t.Crafts,"reflowcycles",t._n(e))},expression:"Crafts.reflowcycles"}})],1)],1),t._v(" "),i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:"环保标准"}},[i("el-input",{model:{value:t.Crafts.environment,callback:function(e){t.$set(t.Crafts,"environment",e)},expression:"Crafts.environment"}})],1)],1)],1),t._v(" "),i("el-form-item",[""==t.Crafts1?i("el-button",{attrs:{type:"primary"},on:{click:function(e){t.addprocess()}}},[t._v("提交工艺环保属性")]):t._e(),t._v(" "),""!==t.Crafts1?i("el-button",{attrs:{type:"primary"},on:{click:function(e){t.Modifyprocess()}}},[t._v("修改工艺环保属性")]):t._e()],1)],1)],1),t._v(" "),i("el-collapse-item",{attrs:{title:"周期",name:"9"}},[i("el-form",{ref:"Cycle",attrs:{model:t.Cycle,"label-width":"120px"}},[i("el-row",[i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:"保质期",prop:"expireduration",rules:[{type:"number",message:"保质期必须为数字值"}]}},[i("el-input",{attrs:{title:"1、填写必须以天计算  2、填写必须为整数，不能带单位"},model:{value:t.Cycle.expireduration,callback:function(e){t.$set(t.Cycle,"expireduration",t._n(e))},expression:"Cycle.expireduration"}})],1)],1),t._v(" "),i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:"使用寿命",prop:"lifeduration",rules:[{type:"number",message:"使用寿命必须为数字值"}]}},[i("el-input",{attrs:{title:"1、填写必须以天计算  2、填写必须为整数，不能带单位"},model:{value:t.Cycle.lifeduration,callback:function(e){t.$set(t.Cycle,"lifeduration",t._n(e))},expression:"Cycle.lifeduration"}})],1)],1),t._v(" "),i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:"剩余寿命",prop:"liferemaining",rules:[{type:"number",message:"剩余寿命必须为数字值"}]}},[i("el-input",{attrs:{title:"1、填写必须以天计算  2、填写必须为整数，不能带单位"},model:{value:t.Cycle.liferemaining,callback:function(e){t.$set(t.Cycle,"liferemaining",t._n(e))},expression:"Cycle.liferemaining"}})],1)],1)],1),t._v(" "),i("el-row",[i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:"计价单位"}},[i("el-input",{model:{value:t.Cycle.unitofaccount,callback:function(e){t.$set(t.Cycle,"unitofaccount",e)},expression:"Cycle.unitofaccount"}})],1)],1)],1),t._v(" "),i("el-form-item",[""==t.Cycle1?i("el-button",{attrs:{type:"primary"},on:{click:function(e){t.addcycle()}}},[t._v("提交周期属性")]):t._e(),t._v(" "),""!==t.Cycle1?i("el-button",{attrs:{type:"primary"},on:{click:function(e){t.Modifycycle()}}},[t._v("修改周期属性")]):t._e()],1)],1)],1),t._v(" "),i("el-collapse-item",{attrs:{title:"物流属性",name:"6"}},[i("el-form",{ref:"Logistic",attrs:{model:t.Logistic,"label-width":"120px"}},[i("el-row",[i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{"label-width":"120px",label:"包装形式"}},[i("el-cascader",{attrs:{"show-all-levels":!1,options:t.packageidarr,props:{expandTrigger:"hover"}},on:{change:t.handleChange2},model:{value:t.packageid,callback:function(e){t.packageid=e},expression:"packageid"}})],1)],1),t._v(" "),i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:"计量单位"}},[i("el-select",{on:{change:t.changeunit},model:{value:t.Logistic.unit,callback:function(e){t.$set(t.Logistic,"unit",e)},expression:"Logistic.unit"}},t._l(t.unit,function(t,e){return i("el-option",{key:e,attrs:{label:t.name,value:e}})}),1)],1)],1),t._v(" "),i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:"每包装数量"}},[i("el-input",{attrs:{placeholder:"只填写数值"},model:{value:t.Logistic.packagenumber,callback:function(e){t.$set(t.Logistic,"packagenumber",e)},expression:"Logistic.packagenumber"}})],1)],1)],1),t._v(" "),i("el-row",[i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:"补给方式"}},[i("el-select",{model:{value:t.Logistic.supplyform,callback:function(e){t.$set(t.Logistic,"supplyform",e)},expression:"Logistic.supplyform"}},[i("el-option",{attrs:{label:"采购",value:"B:采购"}}),t._v(" "),i("el-option",{attrs:{label:"生产",value:"M:生产"}})],1)],1)],1),t._v(" "),i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:"批次管理"}},[i("el-select",{model:{value:t.Logistic.batchtrace,callback:function(e){t.$set(t.Logistic,"batchtrace",e)},expression:"Logistic.batchtrace"}},[i("el-option",{attrs:{label:"是",value:"true"}}),t._v(" "),i("el-option",{attrs:{label:"否",value:"false"}})],1)],1)],1),t._v(" "),i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:"序列号管理"}},[i("el-select",{model:{value:t.Logistic.sntrace,callback:function(e){t.$set(t.Logistic,"sntrace",e)},expression:"Logistic.sntrace"}},[i("el-option",{attrs:{label:"是",value:"true"}}),t._v(" "),i("el-option",{attrs:{label:"否",value:"false"}})],1)],1)],1)],1),t._v(" "),i("el-row",[i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:"最小库存",prop:"stockmin",rules:[{type:"number",message:"最小库存必须为数字值"}]}},[i("el-input",{model:{value:t.Logistic.stockmin,callback:function(e){t.$set(t.Logistic,"stockmin",t._n(e))},expression:"Logistic.stockmin"}})],1)],1),t._v(" "),i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:"最大库存",prop:"stockmax",rules:[{type:"number",message:"最大库存必须为数字值"}]}},[i("el-input",{model:{value:t.Logistic.stockmax,callback:function(e){t.$set(t.Logistic,"stockmax",t._n(e))},expression:"Logistic.stockmax"}})],1)],1),t._v(" "),i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:"库存类型"}},[i("el-select",{model:{value:t.Logistic.stocktypeid,callback:function(e){t.$set(t.Logistic,"stocktypeid",e)},expression:"Logistic.stocktypeid"}},t._l(t.stocktypeid,function(t,e){return i("el-option",{key:e,attrs:{label:t.name,value:t.id}})}),1)],1)],1)],1),t._v(" "),i("el-row",[i("el-form-item",{attrs:{label:"生产发料方式"}},[i("el-select",{model:{value:t.Logistic.logisticinplant,callback:function(e){t.$set(t.Logistic,"logisticinplant",e)},expression:"Logistic.logisticinplant"}},[i("el-option",{attrs:{label:"手工",value:"M:手工"}}),t._v(" "),i("el-option",{attrs:{label:"倒冲",value:"B:倒冲"}})],1)],1)],1),t._v(" "),i("el-form-item",[""==t.Logistic1?i("el-button",{attrs:{type:"primary"},on:{click:function(e){t.addlogistics()}}},[t._v("提交物流属性")]):t._e(),t._v(" "),""!==t.Logistic1?i("el-button",{attrs:{type:"primary"},on:{click:function(e){t.Modifylogistics()}}},[t._v("修改物流属性")]):t._e()],1)],1)],1),t._v(" "),i("el-collapse-item",{attrs:{title:"采购属性",name:"7"}},[i("el-form",{ref:"Stock",attrs:{model:t.Stock,"label-width":"120px"}},[i("el-divider",{attrs:{"content-position":"left"}},[t._v("供应商")]),t._v(" "),i("el-row",[i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:"供应商"}},[i("el-input",{model:{value:t.Stock.manufacturer,callback:function(e){t.$set(t.Stock,"manufacturer",e)},expression:"Stock.manufacturer"}})],1)],1),t._v(" "),i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:"供应商标识"}},[i("el-input",{model:{value:t.Stock.manufactureridentification,callback:function(e){t.$set(t.Stock,"manufactureridentification",e)},expression:"Stock.manufactureridentification"}})],1)],1),t._v(" "),i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:"代理商"}},[i("el-input",{model:{value:t.Stock.agent,callback:function(e){t.$set(t.Stock,"agent",e)},expression:"Stock.agent"}})],1)],1)],1),t._v(" "),i("el-row",[i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:"代理商标识"}},[i("el-input",{model:{value:t.Stock.agentidentification,callback:function(e){t.$set(t.Stock,"agentidentification",e)},expression:"Stock.agentidentification"}})],1)],1),t._v(" "),i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:"订购码"}},[i("el-input",{model:{value:t.Stock.manufacturerpartnumber,callback:function(e){t.$set(t.Stock,"manufacturerpartnumber",e)},expression:"Stock.manufacturerpartnumber"}})],1)],1),t._v(" "),i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:"物料订购周期",prop:"orderingperiod",rules:[{type:"number",message:"物料订购周期必须为数字值"}]}},[i("el-input",{attrs:{title:"1、填写必须以天计算  2、填写必须为整数，不能带单位"},model:{value:t.Stock.orderingperiod,callback:function(e){t.$set(t.Stock,"orderingperiod",t._n(e))},expression:"Stock.orderingperiod"}})],1)],1)],1),t._v(" "),i("el-row",[i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:"最小订购数量",prop:"minpurchasenumber",rules:[{type:"number",message:"最小订购数量必须为数字值"}]}},[i("el-input",{attrs:{title:"填写必须为整数，不带单位"},model:{value:t.Stock.minpurchasenumber,callback:function(e){t.$set(t.Stock,"minpurchasenumber",t._n(e))},expression:"Stock.minpurchasenumber"}})],1)],1),t._v(" "),i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{"label-width":"150px",label:"报价中是否含原材料"}},[i("el-select",{model:{value:t.Stock.priceincludematerial,callback:function(e){t.$set(t.Stock,"priceincludematerial",e)},expression:"Stock.priceincludematerial"}},[i("el-option",{attrs:{label:"是",value:"true"}}),t._v(" "),i("el-option",{attrs:{label:"否",value:"false"}})],1)],1)],1),t._v(" "),i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:"阶梯价格1"}},[i("el-input",{model:{value:t.Stock.volumeprice,callback:function(e){t.$set(t.Stock,"volumeprice",e)},expression:"Stock.volumeprice"}})],1)],1)],1),t._v(" "),i("el-row",[i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:"阶梯价格2"}},[i("el-input",{model:{value:t.Stock.volumeprice2,callback:function(e){t.$set(t.Stock,"volumeprice2",e)},expression:"Stock.volumeprice2"}})],1)],1),t._v(" "),i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:"阶梯价格3"}},[i("el-input",{model:{value:t.Stock.volumeprice3,callback:function(e){t.$set(t.Stock,"volumeprice3",e)},expression:"Stock.volumeprice3"}})],1)],1),t._v(" "),i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:"现行价格",prop:"currentprice",rules:[{type:"number",message:"现行价格必须为数字值"}]}},[i("el-input",{model:{value:t.Stock.currentprice,callback:function(e){t.$set(t.Stock,"currentprice",t._n(e))},expression:"Stock.currentprice"}})],1)],1)],1),t._v(" "),i("el-row",[i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:"年降",prop:"lta",rules:[{type:"number",message:"年降必须为数字值"}]}},[i("el-input",{model:{value:t.Stock.lta,callback:function(e){t.$set(t.Stock,"lta",t._n(e))},expression:"Stock.lta"}})],1)],1)],1),t._v(" "),i("el-form-item",[i("el-button",{attrs:{type:"primary"},on:{click:t.open}},[t._v("提交采购属性")]),t._v(" "),""!==t.Stocks1?i("el-button",{attrs:{type:"primary"},on:{click:function(e){t.Modifystock1()}}},[t._v("修改采购属性")]):t._e()],1)],1),t._v(" "),t.stocklength.length>=2?i("div",{attrs:{"v-model":t.stocklength}},[i("el-form",{ref:"Stock2",attrs:{model:t.Stock2,"label-width":"120px"}},[i("el-divider",{attrs:{"content-position":"left"}},[t._v("制造商2")]),t._v(" "),i("el-row",[i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:"供应商"}},[i("el-input",{model:{value:t.Stock2.manufacturer,callback:function(e){t.$set(t.Stock2,"manufacturer",e)},expression:"Stock2.manufacturer"}})],1)],1),t._v(" "),i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:"供应商标识"}},[i("el-input",{model:{value:t.Stock2.manufactureridentification,callback:function(e){t.$set(t.Stock2,"manufactureridentification",e)},expression:"Stock2.manufactureridentification"}})],1)],1),t._v(" "),i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:"代理商"}},[i("el-input",{model:{value:t.Stock2.agent,callback:function(e){t.$set(t.Stock2,"agent",e)},expression:"Stock2.agent"}})],1)],1)],1),t._v(" "),i("el-row",[i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:"代理商标识"}},[i("el-input",{model:{value:t.Stock2.agentidentification,callback:function(e){t.$set(t.Stock2,"agentidentification",e)},expression:"Stock2.agentidentification"}})],1)],1),t._v(" "),i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:"订购码"}},[i("el-input",{model:{value:t.Stock2.manufacturerpartnumber,callback:function(e){t.$set(t.Stock2,"manufacturerpartnumber",e)},expression:"Stock2.manufacturerpartnumber"}})],1)],1),t._v(" "),i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:"物料订购周期",prop:"orderingperiod",rules:[{type:"number",message:"物料订购周期必须为数字值"}]}},[i("el-input",{attrs:{title:"1、填写必须以天计算  2、填写必须为整数，不能带单位"},model:{value:t.Stock2.orderingperiod,callback:function(e){t.$set(t.Stock2,"orderingperiod",t._n(e))},expression:"Stock2.orderingperiod"}})],1)],1)],1),t._v(" "),i("el-row",[i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:"最小订购数量",prop:"minpurchasenumber",rules:[{type:"number",message:"最小订购数量必须为数字值"}]}},[i("el-input",{attrs:{title:"填写必须为整数，不带单位"},model:{value:t.Stock2.minpurchasenumber,callback:function(e){t.$set(t.Stock2,"minpurchasenumber",t._n(e))},expression:"Stock2.minpurchasenumber"}})],1)],1),t._v(" "),i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{"label-width":"150px",label:"报价中是否含原材料"}},[i("el-select",{model:{value:t.Stock2.priceincludematerial,callback:function(e){t.$set(t.Stock2,"priceincludematerial",e)},expression:"Stock2.priceincludematerial"}},[i("el-option",{attrs:{label:"是",value:"true"}}),t._v(" "),i("el-option",{attrs:{label:"否",value:"false"}})],1)],1)],1),t._v(" "),i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:"阶梯价格1"}},[i("el-input",{model:{value:t.Stock2.volumeprice,callback:function(e){t.$set(t.Stock2,"volumeprice",e)},expression:"Stock2.volumeprice"}})],1)],1)],1),t._v(" "),i("el-row",[i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:"阶梯价格2"}},[i("el-input",{model:{value:t.Stock2.volumeprice2,callback:function(e){t.$set(t.Stock2,"volumeprice2",e)},expression:"Stock2.volumeprice2"}})],1)],1),t._v(" "),i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:"阶梯价格3"}},[i("el-input",{model:{value:t.Stock2.volumeprice3,callback:function(e){t.$set(t.Stock2,"volumeprice3",e)},expression:"Stock2.volumeprice3"}})],1)],1),t._v(" "),i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:"现行价格",prop:"currentprice",rules:[{type:"number",message:"现行价格必须为数字值"}]}},[i("el-input",{model:{value:t.Stock2.currentprice,callback:function(e){t.$set(t.Stock2,"currentprice",t._n(e))},expression:"Stock2.currentprice"}})],1)],1)],1),t._v(" "),i("el-row",[i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:"年降",prop:"lta",rules:[{type:"number",message:"年降必须为数字值"}]}},[i("el-input",{model:{value:t.Stock2.lta,callback:function(e){t.$set(t.Stock2,"lta",t._n(e))},expression:"Stock2.lta"}})],1)],1)],1),t._v(" "),i("el-form-item",[""==t.Stocks2?i("el-button",{attrs:{type:"primary"},on:{click:t.open}},[t._v("提交采购属性")]):t._e(),t._v(" "),""!==t.Stocks2?i("el-button",{attrs:{type:"primary"},on:{click:function(e){t.Modifystock2()}}},[t._v("修改采购属性")]):t._e()],1)],1)],1):t._e(),t._v(" "),t.stocklength.length>=3?i("div",{attrs:{"v-model":t.stocklength}},[i("el-form",{ref:"Stock3",attrs:{model:t.Stock3,"label-width":"120px"}},[i("el-divider",{attrs:{"content-position":"left"}},[t._v("供应商3")]),t._v(" "),i("el-row",[i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:"供应商"}},[i("el-input",{model:{value:t.Stock3.manufacturer,callback:function(e){t.$set(t.Stock3,"manufacturer",e)},expression:"Stock3.manufacturer"}})],1)],1),t._v(" "),i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:"供应商标识"}},[i("el-input",{model:{value:t.Stock3.manufactureridentification,callback:function(e){t.$set(t.Stock3,"manufactureridentification",e)},expression:"Stock3.manufactureridentification"}})],1)],1),t._v(" "),i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:"代理商"}},[i("el-input",{model:{value:t.Stock3.agent,callback:function(e){t.$set(t.Stock3,"agent",e)},expression:"Stock3.agent"}})],1)],1)],1),t._v(" "),i("el-row",[i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:"代理商标识"}},[i("el-input",{model:{value:t.Stock3.agentidentification,callback:function(e){t.$set(t.Stock3,"agentidentification",e)},expression:"Stock3.agentidentification"}})],1)],1),t._v(" "),i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:"订购码"}},[i("el-input",{model:{value:t.Stock3.manufacturerpartnumber,callback:function(e){t.$set(t.Stock3,"manufacturerpartnumber",e)},expression:"Stock3.manufacturerpartnumber"}})],1)],1),t._v(" "),i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:"物料订购周期",prop:"orderingperiod",rules:[{type:"number",message:"物料订购周期必须为数字值"}]}},[i("el-input",{attrs:{title:"1、填写必须以天计算  2、填写必须为整数，不能带单位"},model:{value:t.Stock3.orderingperiod,callback:function(e){t.$set(t.Stock3,"orderingperiod",e)},expression:"Stock3.orderingperiod"}})],1)],1)],1),t._v(" "),i("el-row",[i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:"最小订购数量",prop:"minpurchasenumber",rules:[{type:"number",message:"最小订购数量必须为数字值"}]}},[i("el-input",{attrs:{title:"填写必须为整数，不带单位"},model:{value:t.Stock3.minpurchasenumber,callback:function(e){t.$set(t.Stock3,"minpurchasenumber",e)},expression:"Stock3.minpurchasenumber"}})],1)],1),t._v(" "),i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{"label-width":"150px",label:"报价中是否含原材料"}},[i("el-select",{model:{value:t.Stock3.priceincludematerial,callback:function(e){t.$set(t.Stock3,"priceincludematerial",e)},expression:"Stock3.priceincludematerial"}},[i("el-option",{attrs:{label:"是",value:"true"}}),t._v(" "),i("el-option",{attrs:{label:"否",value:"false"}})],1)],1)],1),t._v(" "),i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:"阶梯价格1"}},[i("el-input",{model:{value:t.Stock3.volumeprice,callback:function(e){t.$set(t.Stock3,"volumeprice",e)},expression:"Stock3.volumeprice"}})],1)],1)],1),t._v(" "),i("el-row",[i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:"阶梯价格2"}},[i("el-input",{model:{value:t.Stock3.volumeprice2,callback:function(e){t.$set(t.Stock3,"volumeprice2",e)},expression:"Stock3.volumeprice2"}})],1)],1),t._v(" "),i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:"阶梯价格3"}},[i("el-input",{model:{value:t.Stock3.volumeprice3,callback:function(e){t.$set(t.Stock3,"volumeprice3",e)},expression:"Stock3.volumeprice3"}})],1)],1),t._v(" "),i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:"现行价格",prop:"currentprice",rules:[{type:"number",message:"现行价格必须为数字值"}]}},[i("el-input",{model:{value:t.Stock3.currentprice,callback:function(e){t.$set(t.Stock3,"currentprice",e)},expression:"Stock3.currentprice"}})],1)],1)],1),t._v(" "),i("el-row",[i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:"年降",prop:"lta",rules:[{type:"number",message:"年降必须为数字值"}]}},[i("el-input",{model:{value:t.Stock3.lta,callback:function(e){t.$set(t.Stock3,"lta",e)},expression:"Stock3.lta"}})],1)],1)],1),t._v(" "),i("el-form-item",[""==t.Stocks3?i("el-button",{attrs:{type:"primary"},on:{click:t.open}},[t._v("提交采购属性")]):t._e(),t._v(" "),""!==t.Stocks3?i("el-button",{attrs:{type:"primary"},on:{click:function(e){t.Modifystock3()}}},[t._v("修改采购属性")]):t._e()],1)],1)],1):t._e()],1)],1),t._v(" "),i("el-form-item",[i("el-button",{attrs:{type:"primary"},on:{click:function(e){t.resetForm()}}},[t._v("关闭")])],1)],1)],1),t._v(" "),i("el-dialog",{attrs:{title:"公共文件",center:"",visible:t.PublicDocuments,width:"60%"},on:{"update:visible":function(e){t.PublicDocuments=e}}},[i("el-form",{attrs:{model:t.uploadfile}},[i("el-row",[i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:"名称"}},[i("el-input",{staticStyle:{width:"auto"},attrs:{placeholder:"名称"},model:{value:t.uploadfile.filename,callback:function(e){t.$set(t.uploadfile,"filename",e)},expression:"uploadfile.filename"}})],1)],1),t._v(" "),i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:"编号"}},[i("el-input",{staticStyle:{width:"auto"},attrs:{placeholder:"编号"},model:{value:t.uploadfile.filenum,callback:function(e){t.$set(t.uploadfile,"filenum",e)},expression:"uploadfile.filenum"}})],1)],1),t._v(" "),i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:"版本"}},[i("el-input",{staticStyle:{width:"auto"},attrs:{placeholder:"版本"},model:{value:t.uploadfile.edition,callback:function(e){t.$set(t.uploadfile,"edition",e)},expression:"uploadfile.edition"}})],1)],1)],1),t._v(" "),i("el-upload",{ref:"uploadRatio",staticClass:"upload-demo",attrs:{multiple:"",limit:20,action:"actions","file-list":t.uploadfile.fileList,"auto-upload":!1}},[i("el-button",{attrs:{slot:"trigger",size:"small",type:"primary"},slot:"trigger"},[t._v("选取文件")]),t._v(" "),i("el-button",{staticStyle:{"margin-left":"10px"},attrs:{size:"small",type:"success"},on:{click:t.submitUpload}},[t._v("确定")])],1)],1),t._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:t.closePublicDocuments}},[t._v("取 消")])],1)],1),t._v(" "),i("el-dialog",{attrs:{title:t.title+"文档列表",visible:t.DocumentList},on:{"update:visible":function(e){t.DocumentList=e}}},[i("el-table",{attrs:{data:t.gridData}},[i("el-table-column",{attrs:{property:"docname",label:"文件名",width:"160"}}),t._v(" "),i("el-table-column",{attrs:{property:"docnum",label:"文件编号",width:"200"}}),t._v(" "),i("el-table-column",{attrs:{property:"createtime",label:"时间"}}),t._v(" "),i("el-table-column",{attrs:{label:"下载",width:"80"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-button",{attrs:{type:"text"},nativeOn:{click:function(a){a.preventDefault(),t.Downloadfile(e.row)}}},[t._v("下载")])]}}])}),t._v(" "),i("el-table-column",{attrs:{label:"预览",width:"80"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-button",{attrs:{type:"text"},nativeOn:{click:function(a){a.preventDefault(),t.preview(e.row)}}},[t._v("预览")])]}}])}),t._v(" "),i("el-table-column",{attrs:{label:"收藏",width:"80"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-button",{attrs:{type:"text"},nativeOn:{click:function(a){a.preventDefault(),t.Collection(e.row)}}},[t._v("收藏")])]}}])}),t._v(" "),i("el-table-column",{attrs:{label:"删除",width:"80"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-button",{attrs:{type:"text"},nativeOn:{click:function(a){a.preventDefault(),t.Deletefile(e.row,e.$index,t.gridData)}}},[t._v("删除")])]}}])})],1),t._v(" "),i("el-button",{staticStyle:{"margin-left":"10px"},attrs:{size:"small",type:"primary"},on:{click:t.openPublicDocuments}},[t._v("添加当前目录文档")])],1),t._v(" "),i("el-dialog",{attrs:{title:"收藏",visible:t.CollectionVisible,center:""},on:{"update:visible":function(e){t.CollectionVisible=e}}},[i("el-form",{attrs:{model:t.Favorite}},[i("el-row",[i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{label:"新建文件夹名称"}},[i("el-input",{staticStyle:{width:"auto"},attrs:{autocomplete:"off"},model:{value:t.Favorite.keepname,callback:function(e){t.$set(t.Favorite,"keepname",e)},expression:"Favorite.keepname"}})],1)],1),t._v(" "),i("el-col",{attrs:{span:8}},[i("el-button",{attrs:{type:"primary"},nativeOn:{click:function(e){return e.preventDefault(),t.newlyBuildCollection(e)}}},[t._v("新建收藏夹")])],1)],1)],1),t._v(" "),i("div",{staticClass:"shoucangjiadiv"},[1==t.Showfavorites?i("ul",{directives:[{name:"show",rawName:"v-show",value:t.Collectionlist,expression:"Collectionlist"}],staticClass:"shoucangjiaul"},t._l(t.Collectionlistarr,function(e){return i("li",{key:e.keepid,staticClass:"shoucangjia"},[i("img",{staticClass:"name-col-icon",attrs:{src:a("yXGx"),id:e.keepid,alt:"文件类型图标"},on:{dblclick:function(a){t.getflie(e)}}}),t._v(" "),i("p",{staticClass:"keepname"},[t._v(t._s(e.keepname))]),t._v(" "),i("el-button",{attrs:{type:"text"},on:{click:function(a){t.addfileFavorite(e.keepid,e)}}},[t._v("添加收藏夹")])],1)}),0):t._e(),t._v(" "),0==t.Showfavorites?i("el-table",{attrs:{data:t.Collectionfile}},[i("el-table-column",{attrs:{property:"docname",label:"文件名",width:"160"}}),t._v(" "),i("el-table-column",{attrs:{property:"docnum",label:"文件编号",width:"200"}}),t._v(" "),i("el-table-column",{attrs:{property:"createtime",label:"时间"}}),t._v(" "),i("el-table-column",{attrs:{label:"下载",width:"80"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-button",{attrs:{type:"text"},nativeOn:{click:function(a){a.preventDefault(),t.DownloadCollectionfile(e.row)}}},[t._v("下载")])]}}])}),t._v(" "),i("el-table-column",{attrs:{label:"预览",width:"80"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-button",{attrs:{type:"text"},nativeOn:{click:function(a){a.preventDefault(),t.previewCollectionfile(e.row)}}},[t._v("预览")])]}}])}),t._v(" "),i("el-table-column",{attrs:{label:"取消收藏",width:"80"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-button",{attrs:{type:"text"},nativeOn:{click:function(a){a.preventDefault(),t.Cancelcollection(e.row,e.$index,t.Collectionfile)}}},[t._v("取消收藏")])]}}])})],1):t._e()],1),t._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(e){t.CollectionVisible=!1}}},[t._v("关闭")]),t._v(" "),i("el-button",{on:{click:function(e){t.Showfavorites=!0}}},[t._v("返回")])],1)],1)],1)},staticRenderFns:[]};var p=a("VU/8")(c,u,!1,function(t){a("WK1I")},null,null);e.default=p.exports}});